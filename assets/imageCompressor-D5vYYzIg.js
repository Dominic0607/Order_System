const h=(d,g=.7,r=800)=>new Promise((l,t)=>{const n=new FileReader;n.readAsDataURL(d),n.onload=a=>{var s;const o=new Image;o.src=(s=a.target)==null?void 0:s.result,o.onload=()=>{const e=document.createElement("canvas"),w=r/o.width;e.width=r,e.height=o.height*w;const c=e.getContext("2d");if(!c)return t(new Error("Failed to get canvas context"));c.drawImage(o,0,0,e.width,e.height),e.toBlob(i=>{i?l(i):t(new Error("Canvas to Blob conversion failed"))},"image/jpeg",g)},o.onerror=e=>t(e)},n.onerror=a=>t(a)});export{h as c};
