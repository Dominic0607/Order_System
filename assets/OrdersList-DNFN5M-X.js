import{r as c,j as e,c as T,M as Z,A as Q,S as G,W as X,L as ee}from"./index-DOJDhRf2.js";const K=(n,h)=>{if(!h||!n)return e.jsx("span",{children:n});const p=h.split(" ").filter(Boolean).map(d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(p.length===0)return e.jsx("span",{children:n});const f=new RegExp(`(${p.join("|")})`,"gi");return e.jsx(e.Fragment,{children:n.split(f).map((d,m)=>f.test(d)&&d.trim()!==""?e.jsx("strong",{className:"text-yellow-300 bg-yellow-900/50 rounded-sm px-0.5",children:d},m):d)})},te=(n,h)=>{const p=(n.ProductName||"").toLowerCase(),f=(n.Barcode||"").toLowerCase(),d=(n.Tags||"").toLowerCase(),m=`${p} ${f} ${d}`,i=h.toLowerCase().trim();if(!i)return 1;const x=i.split(" ").filter(Boolean);if(!x.every(j=>m.includes(j)))return 0;let o=0;o+=10,x.forEach(j=>{p.includes(j)&&(o+=20),f.includes(j)&&(o+=10),d.includes(j)&&(o+=5)});const N=p.split(/[\s(),|/-]+/).filter(Boolean);return x.forEach(j=>{N.some(L=>L.startsWith(j))&&(o+=30)}),p.startsWith(i)&&(o+=500),p===i&&(o+=1e3),f===i&&(o+=1e3),o},se=({selectedProduct:n})=>{const{updateProductInData:h}=c.useContext(Q),[p,f]=c.useState([]),[d,m]=c.useState(""),[i,x]=c.useState(!1),[g,o]=c.useState(""),N=c.useRef(null);c.useEffect(()=>{n&&n.Tags?f(n.Tags.split(",").map(l=>l.trim()).filter(Boolean)):f([]),o("")},[n]);const j=async(l,s)=>{if(l){x(!0),o("");try{const w=await fetch(`${X}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"Products",primaryKey:{ProductName:l},newData:{Tags:s.join(",")}})});if(!w.ok){let v="Failed to update tags.";try{const C=await w.json();v=C.message||JSON.stringify(C)}catch{v=`Server Error: ${await w.text()}`}throw new Error(v)}h(l,{Tags:s.join(",")})}catch(w){o(w.message),n&&n.Tags?f(n.Tags.split(",").map(v=>v.trim()).filter(Boolean)):f([]),setTimeout(()=>o(""),5e3)}finally{x(!1)}}},L=l=>{const s=l.trim().replace(/,/g,"");if(s&&!p.includes(s)){const w=[...p,s];f(w),j(n.ProductName,w)}m("")},D=l=>{const s=p.filter(w=>w!==l);f(s),j(n.ProductName,s)},S=l=>{l.preventDefault(),L(d)};return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"tags-input-container",onClick:()=>{var l;return(l=N.current)==null?void 0:l.focus()},children:[p.map(l=>e.jsxs("span",{className:"tag-badge",children:[l,e.jsx("button",{type:"button",onClick:()=>D(l),className:"tag-remove-btn","aria-label":`Remove tag ${l}`,children:"Ã—"})]},l)),e.jsx("form",{onSubmit:S,className:"flex-grow min-w-[100px]",children:e.jsx("input",{ref:N,type:"text",value:d,onChange:l=>{m(l.target.value),g&&o("")},placeholder:p.length>0?"Add tag...":"Add product tags...",className:"tag-input",disabled:i,"aria-label":"Add a new tag"})}),i&&e.jsx(G,{size:"sm"})]}),g&&e.jsx("p",{className:"text-red-400 text-xs mt-1",role:"alert",children:g})]})},re=({products:n,selectedProductName:h,onSelect:p,showTagEditor:f=!0})=>{const[d,m]=c.useState(!1),[i,x]=c.useState(""),[g,o]=c.useState(0),[N,j]=c.useState(null),L=c.useRef(null),D=c.useRef(null),S=c.useRef(null),l=c.useMemo(()=>n.find(a=>a.ProductName===h),[n,h]);c.useEffect(()=>{x(h)},[h]),c.useEffect(()=>{const a=t=>{L.current&&!L.current.contains(t.target)&&(m(!1),x(h))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[h]);const s=c.useMemo(()=>{const a=i||"";return a.trim()?n.map(t=>({product:t,score:te(t,a)})).filter(t=>t.score>0).sort((t,r)=>r.score-t.score||t.product.ProductName.localeCompare(r.product.ProductName)).map(t=>t.product):[]},[n,i]),w=c.useMemo(()=>{const a=i.trim();return a?!n.some(t=>t.ProductName.trim().toLowerCase()===a.toLowerCase()):!1},[i,n]),v=c.useMemo(()=>{const a=[...s];return w&&a.unshift({isAddNew:!0,ProductName:i.trim()}),a},[s,w,i]);c.useEffect(()=>{if(g>=0&&S.current){const a=S.current.children[g];a==null||a.scrollIntoView({block:"nearest"})}},[g,v]);const C=c.useCallback(a=>{var t;p(a),x(a),m(!1),j(null),o(0),(t=D.current)==null||t.blur()},[p]),A=a=>{a.isAddNew?C(a.ProductName):j(a)},z=c.useCallback(()=>{var a;p(""),x(""),m(!0),o(0),(a=D.current)==null||a.focus()},[p]),H=a=>{var r;const t=v.length;if(t!==0)switch(a.key){case"ArrowDown":d||m(!0),a.preventDefault(),o(u=>(u+1)%t);break;case"ArrowUp":d||m(!0),a.preventDefault(),o(u=>(u-1+t)%t);break;case"Enter":if(!d)return;a.preventDefault(),g>-1&&v[g]&&C(v[g].ProductName);break;case"Escape":m(!1),x(h),(r=D.current)==null||r.blur();break}};return e.jsxs("div",{className:"relative",ref:L,role:"combobox","aria-haspopup":"listbox","aria-expanded":d,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:D,type:"text",className:"form-input !pr-16",placeholder:"ážŸáŸ’ážœáŸ‚áž„ážšáž€ áž¬ áž”áž‰áŸ’áž…áž¼áž›ážˆáŸ’áž˜áŸ„áŸ‡áž•áž›áž·ážáž•áž›...",value:i,onChange:a=>{x(a.target.value),m(!0),o(0)},onFocus:()=>m(!0),onKeyDown:H,"aria-autocomplete":"list","aria-controls":"product-listbox","aria-activedescendant":g>-1?`product-option-${g}`:void 0}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[i&&e.jsx("button",{type:"button",onClick:z,className:"text-gray-500 hover:text-white text-2xl","aria-label":"Clear search",children:"Ã—"}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),h&&l&&f&&e.jsx(se,{selectedProduct:l}),d&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-md shadow-lg max-h-80 flex flex-col",children:e.jsxs("ul",{ref:S,className:"overflow-y-auto p-1",id:"product-listbox",role:"listbox",children:[!i.trim()&&e.jsx("li",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"Start typing to search for a product..."}),i.trim()&&v.length===0&&e.jsx("li",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No matching products found."}),v.map((a,t)=>{if("isAddNew"in a&&a.isAddNew)return e.jsxs("li",{id:`product-option-${t}`,role:"option","aria-selected":g===t,className:`p-3 text-sm rounded-md cursor-pointer flex items-center gap-3 ${g===t?"bg-blue-600":"hover:bg-blue-600/70"}`,onMouseDown:()=>A(a),children:[e.jsx("div",{className:"w-10 h-10 rounded flex-shrink-0 bg-gray-700 flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})}),e.jsx("div",{className:"flex-grow overflow-hidden",children:e.jsxs("p",{className:"font-semibold",children:["Add new: ",e.jsxs("strong",{className:"text-yellow-300",children:['"',a.ProductName,'"']})]})})]},"add-new");const r=a;return e.jsxs("li",{id:`product-option-${t}`,role:"option","aria-selected":g===t,title:"Click to view details",className:`p-3 text-sm rounded-md cursor-pointer flex items-center gap-3 ${g===t?"bg-blue-600":"hover:bg-blue-600/70"}`,onMouseDown:()=>A(r),children:[e.jsx("img",{src:T(r.ImageURL),alt:r.ProductName,className:"w-10 h-10 object-cover rounded flex-shrink-0",referrerPolicy:"no-referrer"}),e.jsxs("div",{className:"flex-grow overflow-hidden",children:[e.jsx("p",{className:"font-semibold truncate",children:K(r.ProductName,i)}),e.jsxs("p",{className:"text-xs text-gray-400 truncate",children:["Barcode: ",r.Barcode?K(r.Barcode,i):"N/A"," | Price: $",r.Price.toFixed(2)]}),r.Tags&&e.jsxs("p",{className:"text-xs text-blue-300 truncate mt-1",children:["Tags: ",K(r.Tags,i)]})]})]},r.ProductName)})]})}),N&&e.jsx(Z,{isOpen:!0,onClose:()=>j(null),maxWidth:"max-w-sm",children:e.jsxs("div",{className:"p-2 sm:p-4 text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"áž”áž‰áŸ’áž‡áž¶áž€áŸ‹áž€áž¶ážšáž‡áŸ’ážšáž¾ážŸážšáž¾ážŸ"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:T(N.ImageURL),alt:N.ProductName,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-600 shadow-lg bg-gray-700",referrerPolicy:"no-referrer"})}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-6 border border-gray-700 shadow-inner",children:[e.jsx("p",{className:"text-blue-300 text-lg md:text-xl font-bold break-words leading-relaxed",children:N.ProductName}),e.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm text-gray-400",children:[e.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded",children:["ðŸ’° $",N.Price.toFixed(2)]}),N.Barcode&&e.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded",children:["ðŸ“Ÿ ",N.Barcode]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(null),className:"btn btn-secondary flex-1 py-3",children:"áž”áŸ„áŸ‡áž”áž„áŸ‹"}),e.jsx("button",{onClick:()=>C(N.ProductName),className:"btn btn-primary flex-1 py-3 font-bold text-lg",children:"áž‡áŸ’ážšáž¾ážŸážšáž¾ážŸ"})]})]})})]})},ne=({orders:n,onEdit:h,showActions:p,visibleColumns:f,selectedIds:d=new Set,onToggleSelect:m,onToggleSelectAll:i})=>{const{appData:x,refreshData:g,previewImage:o}=c.useContext(Q),[N,j]=c.useState(null),[L,D]=c.useState(new Set),[S,l]=c.useState(n);c.useEffect(()=>{l(n)},[n]);const s=t=>t==="actions"&&!p?!1:!f||f.has(t),w=n.length>0&&n.every(t=>d.has(t["Order ID"])),v=async(t,r)=>{const u=!r;l(y=>y.map(b=>b["Order ID"]===t?{...b,IsVerified:u}:b)),D(y=>new Set(y).add(t));try{if(!(await fetch(`${X}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"AllOrders",primaryKey:{"Order ID":t},newData:{IsVerified:u}})})).ok)throw new Error("Failed to save");g()}catch(y){console.error("Verification toggle failed:",y),l(b=>b.map(P=>P["Order ID"]===t?{...P,IsVerified:r}:P)),alert("ážšáž€áŸ’ážŸáž¶áž‘áž»áž€ážŸáŸ’ážáž¶áž“áž—áž¶áž–áž˜áž·áž“áž”áž¶áž“ážŸáž˜áŸ’ážšáŸáž…!")}finally{D(y=>{const b=new Set(y);return b.delete(t),b})}},C=t=>{let r=(t||"").replace(/[^0-9]/g,"");return r.length>0&&(r="0"+r.replace(/^0+/,"")),r},A=t=>{navigator.clipboard.writeText(t),j(t),setTimeout(()=>j(null),2e3)},z=t=>{if(!t)return;const r=C(t["Customer Phone"]),u=new URLSearchParams({id:t["Order ID"],name:t["Customer Name"]||"",phone:r,location:t.Location||"",address:t["Address Details"]||"",total:(t["Grand Total"]||0).toString(),payment:t["Payment Status"]||"Unpaid",shipping:t["Internal Shipping Method"]||"N/A",page:t.Page||"",user:t.User||""}),b=(t.Note||"").match(/https?:\/\/(www\.)?(google\.com\/maps|maps\.app\.goo\.gl)\/[^\s]+/);b&&u.set("map",b[0]),window.open(`${ee}?${u.toString()}`,"_blank")},H=t=>{if(!t||!x.phoneCarriers)return null;const u=t.replace(/\s/g,"").substring(0,3),y=x.phoneCarriers.find(b=>b.Prefixes.split(",").map(P=>P.trim()).includes(u));return y?T(y.CarrierLogoURL):null},a=t=>{if(!t||!x.shippingMethods)return null;const r=x.shippingMethods.find(u=>u.MethodName===t);return r?T(r.LogosURL):null};return e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("div",{className:"flex-grow space-y-4",children:[e.jsx("div",{className:"hidden md:block page-card !p-0 shadow-2xl border-gray-700/50 min-h-[1500px] overflow-visible",children:e.jsxs("table",{className:"admin-table w-full border-collapse",style:{tableLayout:"fixed"},children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800/80 border-b border-gray-700",children:[i&&e.jsx("th",{className:"px-4 py-4 w-12 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-600 bg-gray-900 text-blue-500 cursor-pointer",checked:w,onChange:()=>i(n.map(t=>t["Order ID"]))})}),s("index")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-12",children:"#"}),s("orderId")&&e.jsx("th",{className:"px-2 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-16",children:"ID"}),s("customerName")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-44",children:"ážˆáŸ’áž˜áŸ„áŸ‡áž¢ážáž·ážáž·áž‡áž“"}),s("productInfo")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-36",children:"áž–áŸážáŸŒáž˜áž¶áž“ Product"}),s("location")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-48",children:"áž‘áž¸ážáž¶áŸ†áž„"}),s("pageInfo")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-40",children:"Page"}),s("total")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-28",children:"ážŸážšáž»áž”áž‘áž¹áž€áž”áŸ’ážšáž¶áž€áŸ‹"}),s("shippingService")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-44",children:"ážŸáŸážœáž¶ážŠáž¹áž€"}),s("shippingCost")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-24",children:"ážáž˜áŸ’áž›áŸƒážŠáž¹áž€ážŠáž¾áž˜"}),s("status")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-28",children:"ážŸáŸ’ážáž¶áž“áž—áž¶áž–"}),s("date")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-32",children:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘"}),s("print")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-16",children:"áž–áŸ’ážšáž¸áž“"}),s("actions")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-24",children:"ážŸáž€áž˜áŸ’áž˜áž—áž¶áž–"}),s("check")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-emerald-500 w-16",children:"Verified"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700/50",children:S.map((t,r)=>{var B;const u=(B=x.pages)==null?void 0:B.find(k=>k.PageName===t.Page),y=u?T(u.PageLogoURL):"",b=C(t["Customer Phone"]),P=H(b),O=N===t["Order ID"],E=a(t["Internal Shipping Method"]),$=t["Order ID"],R=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",_=L.has($),U=d.has($),I=r>S.length-3&&S.length>4,W=I?"bottom-full mb-3":"top-full mt-3",M=I?"-bottom-2 border-r border-b":"-top-2 border-t border-l";return e.jsxs("tr",{className:`${R?"bg-emerald-500/5":U?"bg-blue-500/10":"hover:bg-gray-700/20"} transition-all group relative`,children:[m&&e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-600 bg-gray-900 text-blue-500 cursor-pointer",checked:U,onChange:()=>m($)})}),s("index")&&e.jsx("td",{className:"px-4 py-4 text-center text-xs font-bold text-gray-500",children:r+1}),s("orderId")&&e.jsx("td",{className:"px-2 py-4 text-center",children:e.jsx("button",{onClick:()=>A(t["Order ID"]),className:`p-2 rounded-lg transition-all border ${O?"bg-green-500/20 border-green-500/40 text-green-400":"bg-gray-800 border-gray-700 text-gray-400 hover:text-blue-400"}`,children:e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:O?"âœ“":"ID"})})}),s("customerName")&&e.jsxs("td",{className:"px-5 py-4",children:[e.jsx("div",{className:"font-bold text-gray-100 truncate mb-1",children:t["Customer Name"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[P&&e.jsx("img",{src:P,className:"w-4 h-4 object-contain",alt:"carrier"}),e.jsx("div",{className:"text-[11px] text-gray-400 font-mono tracking-tighter",children:b})]})]}),s("productInfo")&&e.jsx("td",{className:"px-5 py-4 relative overflow-visible",children:e.jsxs("div",{className:"group/prod flex flex-col gap-1 cursor-help",children:[t.Products.slice(0,2).map((k,V)=>e.jsxs("div",{className:"text-[11px] bg-gray-900/50 p-1.5 rounded border border-white/5 flex flex-col",children:[e.jsx("span",{className:"font-black text-gray-200 line-clamp-1",children:k.name}),e.jsx("div",{className:"flex justify-between items-center mt-0.5",children:e.jsxs("span",{className:"text-blue-400 font-bold",children:["Qty: ",k.quantity]})})]},V)),t.Products.length>2&&e.jsxs("p",{className:"text-[9px] text-gray-500 font-bold ml-1",children:["+ ",t.Products.length-2," items more..."]}),e.jsxs("div",{className:`invisible group-hover/prod:visible opacity-0 group-hover/prod:opacity-100 absolute z-[200] left-1/2 -translate-x-1/2 ${W} w-80 p-5 bg-gray-800 border border-gray-600 rounded-[2rem] shadow-[0_25px_60px_rgba(0,0,0,0.7)] transition-all duration-300 pointer-events-none`,children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.2em] mb-4 border-b border-white/5 pb-3",children:"áž–áŸážáŸŒáž˜áž¶áž“áž‘áŸ†áž“áž·áž‰áž–áŸáž‰áž›áŸáž‰"}),e.jsx("div",{className:"space-y-3 max-h-[350px] overflow-y-auto custom-scrollbar pr-1",children:t.Products.map((k,V)=>{var J;const F=(J=x.products)==null?void 0:J.find(q=>q.ProductName===k.name),Y=k.image||(F==null?void 0:F.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-4 text-left p-2 bg-black/20 rounded-2xl border border-white/5",children:[e.jsx("div",{className:"w-14 h-14 flex-shrink-0 bg-gray-900 rounded-xl border border-gray-700 overflow-hidden shadow-inner",children:e.jsx("img",{src:T(Y),className:"w-full h-full object-cover",alt:k.name,onError:q=>q.currentTarget.src="https://placehold.co/100x100/1f2937/4b5563?text=N/A"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[12px] font-black text-white leading-tight mb-1 line-clamp-2",children:k.name}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded-lg border border-blue-500/10",children:["x",k.quantity]}),k.colorInfo&&e.jsxs("span",{className:"text-[9px] text-purple-400 font-bold",children:["áž–ážŽáŸŒáŸ– ",k.colorInfo]})]})]})]},V)})}),e.jsx("div",{className:`absolute ${M} left-1/2 -translate-x-1/2 w-5 h-5 bg-gray-800 border-gray-600 rotate-45`})]})]})}),s("location")&&e.jsx("td",{className:"px-5 py-4 relative overflow-visible",children:e.jsxs("div",{className:"group/loc cursor-help",children:[e.jsx("div",{className:"text-[13px] font-black text-gray-100 leading-tight",children:t.Location}),e.jsx("div",{className:"text-[11px] font-bold text-gray-500 mt-1 line-clamp-1",children:t["Address Details"]}),e.jsxs("div",{className:`invisible group-hover/loc:visible opacity-0 group-hover/loc:opacity-100 absolute z-[200] left-1/2 -translate-x-1/2 ${W} w-72 p-5 bg-gray-800 border border-gray-600 rounded-[2rem] shadow-[0_25px_60px_rgba(0,0,0,0.7)] transition-all duration-300 pointer-events-none`,children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-[0.2em] mb-3 border-b border-white/5 pb-2",children:"áž‘áž¸ážáž¶áŸ†áž„ áž“áž·áž„áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“"}),e.jsxs("div",{className:"space-y-3 text-left",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase",children:"Province / City"}),e.jsx("p",{className:"text-sm font-black text-white",children:t.Location})]}),e.jsxs("div",{className:"bg-black/20 p-3 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 uppercase block mb-1",children:"Details"}),e.jsx("p",{className:"text-[12px] text-gray-300 leading-relaxed font-medium",children:t["Address Details"]||"áž˜áž·áž“áž˜áž¶áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“áž›áž˜áŸ’áž¢áž·áž"})]})]}),e.jsx("div",{className:`absolute ${M} left-1/2 -translate-x-1/2 w-5 h-5 bg-gray-800 border-gray-600 rotate-45`})]})]})}),s("pageInfo")&&e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[y?e.jsx("img",{src:y,className:"w-7 h-7 rounded-full border border-gray-700 shadow-sm object-cover",alt:"logo"}):e.jsx("div",{className:"w-7 h-7 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-[7px] text-gray-600 font-bold",children:"Log"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-[13px] font-bold text-gray-200 block truncate",children:t.Page}),e.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:t.Team})]})]})}),s("total")&&e.jsxs("td",{className:"px-5 py-4 font-black text-blue-400 text-base tracking-tight",children:["$",t["Grand Total"].toFixed(2)]}),s("shippingService")&&e.jsx("td",{className:"px-5 py-4 text-[11px] text-yellow-500/80 font-bold uppercase",children:e.jsxs("div",{className:"flex items-center gap-2",children:[E&&e.jsx("img",{src:E,className:"w-5 h-5 rounded-full object-contain",alt:"shipping"}),e.jsx("span",{className:"truncate",children:t["Internal Shipping Method"]||"-"})]})}),s("shippingCost")&&e.jsxs("td",{className:"px-5 py-4 text-[11px] text-orange-400 font-mono font-bold",children:["$",(Number(t["Internal Cost"])||0).toFixed(2)]}),s("status")&&e.jsx("td",{className:"px-5 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider shadow-sm border ${t["Payment Status"]==="Paid"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})}),s("date")&&e.jsx("td",{className:"px-5 py-4 text-[10px] text-gray-500 font-bold",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("print")&&e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("button",{onClick:()=>z(t),className:"text-emerald-400 hover:text-white bg-emerald-400/5 hover:bg-emerald-600 p-2 rounded-lg transition-all border border-emerald-400/20 shadow-sm active:scale-90",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})}),s("actions")&&e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("button",{onClick:()=>h&&h(t),className:"text-blue-400 hover:text-white bg-blue-400/5 hover:bg-blue-600 px-4 py-1.5 rounded-lg text-xs font-black transition-all border border-blue-400/20 shadow-sm active:scale-95",children:"Edit"})}),s("check")&&e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:()=>v($,R),className:`h-6 w-6 rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500/20 cursor-pointer transition-all active:scale-150 ${_?"opacity-30":"hover:scale-110"}`}),_&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx(G,{size:"sm"})})]})})]},$)})})]})}),e.jsx("div",{className:"md:hidden space-y-4 min-h-[1200px] pb-64",children:S.map((t,r)=>{var U;const u=(U=x.pages)==null?void 0:U.find(I=>I.PageName===t.Page),y=u?T(u.PageLogoURL):"",b=C(t["Customer Phone"]),P=H(b),O=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",E=L.has(t["Order ID"]),$=d.has(t["Order ID"]),R=a(t["Internal Shipping Method"]),_=N===t["Order ID"];return e.jsxs("div",{className:`bg-gray-800/40 border ${$?"border-blue-500 shadow-blue-500/10":O?"border-emerald-500/50":"border-gray-700"} rounded-[2rem] p-5 shadow-lg space-y-4 animate-fade-in relative`,children:[m&&e.jsx("div",{className:"absolute top-5 left-5 z-10",children:e.jsx("input",{type:"checkbox",className:"h-6 w-6 rounded-lg border-gray-600 bg-gray-900 text-blue-500 focus:ring-blue-500/20 cursor-pointer",checked:$,onChange:()=>m(t["Order ID"])})}),e.jsxs("div",{className:`flex justify-between items-start ${m?"pl-10":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-900 border border-gray-700 flex items-center justify-center overflow-hidden shadow-inner",children:y?e.jsx("img",{src:y,className:"w-full h-full object-cover",alt:"logo"}):e.jsx("span",{className:"text-[10px] font-black text-gray-500",children:"Log"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[15px] font-black text-white leading-none",children:t["Customer Name"]}),e.jsxs("p",{className:"text-[10px] text-gray-500 uppercase font-black mt-1.5",children:[t.Page," (",t.Team,")"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:()=>A(t["Order ID"]),className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all ${_?"bg-green-600 text-white border-green-500":"bg-gray-900 text-gray-400 border-gray-700"}`,children:N===t["Order ID"]?"Copied":t["Order ID"].substring(0,8)}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase border ${t["Payment Status"]==="Paid"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})]})]}),s("productInfo")&&t.Products&&t.Products.length>0&&e.jsxs("div",{className:"bg-black/20 rounded-[1.5rem] p-3 border border-white/5 space-y-2",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1 ml-1 flex items-center gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"áž‘áŸ†áž“áž·áž‰ážŠáŸ‚áž›áž”áž¶áž“áž€áž˜áŸ’áž˜áž„áŸ‹"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:t.Products.map((I,W)=>{var k;const M=(k=x.products)==null?void 0:k.find(V=>V.ProductName===I.name),B=I.image||(M==null?void 0:M.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-3 bg-gray-900/40 p-2 rounded-xl border border-white/5",children:[e.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",onClick:()=>o(T(B)),children:e.jsx("img",{src:T(B),className:"w-full h-full object-cover",alt:""})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsx("p",{className:"text-[12px] font-bold text-gray-200 truncate leading-tight",children:I.name}),e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-1.5 rounded-lg flex-shrink-0",children:["x",I.quantity]})]}),I.colorInfo&&e.jsxs("p",{className:"text-[9px] text-gray-500 italic mt-1 truncate",children:["áž–ážŽáŸŒáŸ– ",I.colorInfo]})]})]},W)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[12px]",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"áž›áŸážáž‘áž¼ážšážŸáŸáž–áŸ’áž‘"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[P&&e.jsx("img",{src:P,className:"w-4 h-4 object-contain",alt:""}),e.jsx("span",{className:"text-white font-mono font-bold tracking-tight",children:b})]})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"ážŸážšáž»áž”áž‘áž¹áž€áž”áŸ’ážšáž¶áž€áŸ‹"}),e.jsxs("p",{className:"text-blue-400 font-black text-base",children:["$",t["Grand Total"].toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"áž‘áž¸ážáž¶áŸ†áž„"}),e.jsx("p",{className:"text-white font-bold truncate max-w-[140px]",children:t.Location})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-gray-500 font-black uppercase text-[9px] tracking-widest",children:"ážŠáž¹áž€áž‡áž‰áŸ’áž‡áž¼áž“"}),e.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[R&&e.jsx("img",{src:R,className:"w-3.5 h-3.5 object-contain",alt:""}),e.jsx("span",{className:"text-white truncate max-w-[100px] font-bold",children:t["Internal Shipping Method"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s("actions")&&e.jsx("button",{onClick:()=>h&&h(t),className:"p-3 bg-blue-600/10 text-blue-400 rounded-2xl border border-blue-500/20 active:scale-90 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s("print")&&e.jsx("button",{onClick:()=>z(t),className:"p-3 bg-emerald-600/10 text-emerald-400 rounded-2xl border border-emerald-500/20 active:scale-90 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-[10px] text-gray-500 font-bold italic",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("check")&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:()=>v(t["Order ID"],O),className:`h-9 w-9 rounded-xl border-gray-600 bg-gray-900 text-emerald-500 focus:ring-emerald-500/20 transition-all ${E?"opacity-20":"active:scale-125"}`}),E&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(G,{size:"sm"})})]})]})]})]},t["Order ID"])})})]}),e.jsx("div",{className:"h-64 md:h-[400px] w-full pointer-events-none opacity-0 shrink-0","aria-hidden":"true"})]})};export{ne as O,re as S};
