import{r as c,j as e,c as D,M as Z,A as Q,S as G,W as X,L as ee}from"./index-fq51JQK_.js";const K=(n,h)=>{if(!h||!n)return e.jsx("span",{children:n});const p=h.split(" ").filter(Boolean).map(d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(p.length===0)return e.jsx("span",{children:n});const f=new RegExp(`(${p.join("|")})`,"gi");return e.jsx(e.Fragment,{children:n.split(f).map((d,m)=>f.test(d)&&d.trim()!==""?e.jsx("strong",{className:"text-yellow-300 bg-yellow-900/50 rounded-sm px-0.5",children:d},m):d)})},te=(n,h)=>{const p=(n.ProductName||"").toLowerCase(),f=(n.Barcode||"").toLowerCase(),d=(n.Tags||"").toLowerCase(),m=`${p} ${f} ${d}`,i=h.toLowerCase().trim();if(!i)return 1;const x=i.split(" ").filter(Boolean);if(!x.every(j=>m.includes(j)))return 0;let o=0;o+=10,x.forEach(j=>{p.includes(j)&&(o+=20),f.includes(j)&&(o+=10),d.includes(j)&&(o+=5)});const w=p.split(/[\s(),|/-]+/).filter(Boolean);return x.forEach(j=>{w.some(L=>L.startsWith(j))&&(o+=30)}),p.startsWith(i)&&(o+=500),p===i&&(o+=1e3),f===i&&(o+=1e3),o},se=({selectedProduct:n})=>{const{updateProductInData:h}=c.useContext(Q),[p,f]=c.useState([]),[d,m]=c.useState(""),[i,x]=c.useState(!1),[g,o]=c.useState(""),w=c.useRef(null);c.useEffect(()=>{n&&n.Tags?f(n.Tags.split(",").map(l=>l.trim()).filter(Boolean)):f([]),o("")},[n]);const j=async(l,s)=>{if(l){x(!0),o("");try{const v=await fetch(`${X}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"Products",primaryKey:{ProductName:l},newData:{Tags:s.join(",")}})});if(!v.ok){let k="Failed to update tags.";try{const C=await v.json();k=C.message||JSON.stringify(C)}catch{k=`Server Error: ${await v.text()}`}throw new Error(k)}h(l,{Tags:s.join(",")})}catch(v){o(v.message),n&&n.Tags?f(n.Tags.split(",").map(k=>k.trim()).filter(Boolean)):f([]),setTimeout(()=>o(""),5e3)}finally{x(!1)}}},L=l=>{const s=l.trim().replace(/,/g,"");if(s&&!p.includes(s)){const v=[...p,s];f(v),j(n.ProductName,v)}m("")},S=l=>{const s=p.filter(v=>v!==l);f(s),j(n.ProductName,s)},T=l=>{l.preventDefault(),L(d)};return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"tags-input-container",onClick:()=>{var l;return(l=w.current)==null?void 0:l.focus()},children:[p.map(l=>e.jsxs("span",{className:"tag-badge",children:[l,e.jsx("button",{type:"button",onClick:()=>S(l),className:"tag-remove-btn","aria-label":`Remove tag ${l}`,children:"Ã—"})]},l)),e.jsx("form",{onSubmit:T,className:"flex-grow min-w-[100px]",children:e.jsx("input",{ref:w,type:"text",value:d,onChange:l=>{m(l.target.value),g&&o("")},placeholder:p.length>0?"Add tag...":"Add product tags...",className:"tag-input",disabled:i,"aria-label":"Add a new tag"})}),i&&e.jsx(G,{size:"sm"})]}),g&&e.jsx("p",{className:"text-red-400 text-xs mt-1",role:"alert",children:g})]})},re=({products:n,selectedProductName:h,onSelect:p,showTagEditor:f=!0})=>{const[d,m]=c.useState(!1),[i,x]=c.useState(""),[g,o]=c.useState(0),[w,j]=c.useState(null),L=c.useRef(null),S=c.useRef(null),T=c.useRef(null),l=c.useMemo(()=>n.find(a=>a.ProductName===h),[n,h]);c.useEffect(()=>{x(h)},[h]),c.useEffect(()=>{const a=t=>{L.current&&!L.current.contains(t.target)&&(m(!1),x(h))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[h]);const s=c.useMemo(()=>{const a=i||"";return a.trim()?n.map(t=>({product:t,score:te(t,a)})).filter(t=>t.score>0).sort((t,r)=>r.score-t.score||t.product.ProductName.localeCompare(r.product.ProductName)).map(t=>t.product):[]},[n,i]),v=c.useMemo(()=>{const a=i.trim();return a?!n.some(t=>t.ProductName.trim().toLowerCase()===a.toLowerCase()):!1},[i,n]),k=c.useMemo(()=>{const a=[...s];return v&&a.unshift({isAddNew:!0,ProductName:i.trim()}),a},[s,v,i]);c.useEffect(()=>{if(g>=0&&T.current){const a=T.current.children[g];a==null||a.scrollIntoView({block:"nearest"})}},[g,k]);const C=c.useCallback(a=>{var t;p(a),x(a),m(!1),j(null),o(0),(t=S.current)==null||t.blur()},[p]),A=a=>{a.isAddNew?C(a.ProductName):j(a)},z=c.useCallback(()=>{var a;p(""),x(""),m(!0),o(0),(a=S.current)==null||a.focus()},[p]),H=a=>{var r;const t=k.length;if(t!==0)switch(a.key){case"ArrowDown":d||m(!0),a.preventDefault(),o(u=>(u+1)%t);break;case"ArrowUp":d||m(!0),a.preventDefault(),o(u=>(u-1+t)%t);break;case"Enter":if(!d)return;a.preventDefault(),g>-1&&k[g]&&C(k[g].ProductName);break;case"Escape":m(!1),x(h),(r=S.current)==null||r.blur();break}};return e.jsxs("div",{className:"relative",ref:L,role:"combobox","aria-haspopup":"listbox","aria-expanded":d,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:S,type:"text",className:"form-input !pr-16",placeholder:"ážŸáŸ’ážœáŸ‚áž„ážšáž€ áž¬ áž”áž‰áŸ’áž…áž¼áž›ážˆáŸ’áž˜áŸ„áŸ‡áž•áž›áž·ážáž•áž›...",value:i,onChange:a=>{x(a.target.value),m(!0),o(0)},onFocus:()=>m(!0),onKeyDown:H,"aria-autocomplete":"list","aria-controls":"product-listbox","aria-activedescendant":g>-1?`product-option-${g}`:void 0}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[i&&e.jsx("button",{type:"button",onClick:z,className:"text-gray-500 hover:text-white text-2xl","aria-label":"Clear search",children:"Ã—"}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),h&&l&&f&&e.jsx(se,{selectedProduct:l}),d&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-md shadow-lg max-h-80 flex flex-col",children:e.jsxs("ul",{ref:T,className:"overflow-y-auto p-1",id:"product-listbox",role:"listbox",children:[!i.trim()&&e.jsx("li",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"Start typing to search for a product..."}),i.trim()&&k.length===0&&e.jsx("li",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No matching products found."}),k.map((a,t)=>{if("isAddNew"in a&&a.isAddNew)return e.jsxs("li",{id:`product-option-${t}`,role:"option","aria-selected":g===t,className:`p-3 text-sm rounded-md cursor-pointer flex items-center gap-3 ${g===t?"bg-blue-600":"hover:bg-blue-600/70"}`,onMouseDown:()=>A(a),children:[e.jsx("div",{className:"w-10 h-10 rounded flex-shrink-0 bg-gray-700 flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})}),e.jsx("div",{className:"flex-grow overflow-hidden",children:e.jsxs("p",{className:"font-semibold",children:["Add new: ",e.jsxs("strong",{className:"text-yellow-300",children:['"',a.ProductName,'"']})]})})]},"add-new");const r=a;return e.jsxs("li",{id:`product-option-${t}`,role:"option","aria-selected":g===t,title:"Click to view details",className:`p-3 text-sm rounded-md cursor-pointer flex items-center gap-3 ${g===t?"bg-blue-600":"hover:bg-blue-600/70"}`,onMouseDown:()=>A(r),children:[e.jsx("img",{src:D(r.ImageURL),alt:r.ProductName,className:"w-10 h-10 object-cover rounded flex-shrink-0",referrerPolicy:"no-referrer"}),e.jsxs("div",{className:"flex-grow overflow-hidden",children:[e.jsx("p",{className:"font-semibold truncate",children:K(r.ProductName,i)}),e.jsxs("p",{className:"text-xs text-gray-400 truncate",children:["Barcode: ",r.Barcode?K(r.Barcode,i):"N/A"," | Price: $",r.Price.toFixed(2)]}),r.Tags&&e.jsxs("p",{className:"text-xs text-blue-300 truncate mt-1",children:["Tags: ",K(r.Tags,i)]})]})]},r.ProductName)})]})}),w&&e.jsx(Z,{isOpen:!0,onClose:()=>j(null),maxWidth:"max-w-sm",children:e.jsxs("div",{className:"p-2 sm:p-4 text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"áž”áž‰áŸ’áž‡áž¶áž€áŸ‹áž€áž¶ážšáž‡áŸ’ážšáž¾ážŸážšáž¾ážŸ"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:D(w.ImageURL),alt:w.ProductName,className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-600 shadow-lg bg-gray-700",referrerPolicy:"no-referrer"})}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-6 border border-gray-700 shadow-inner",children:[e.jsx("p",{className:"text-blue-300 text-lg md:text-xl font-bold break-words leading-relaxed",children:w.ProductName}),e.jsxs("div",{className:"flex justify-center gap-4 mt-3 text-sm text-gray-400",children:[e.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded",children:["ðŸ’° $",w.Price.toFixed(2)]}),w.Barcode&&e.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded",children:["ðŸ“Ÿ ",w.Barcode]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(null),className:"btn btn-secondary flex-1 py-3",children:"áž”áŸ„áŸ‡áž”áž„áŸ‹"}),e.jsx("button",{onClick:()=>C(w.ProductName),className:"btn btn-primary flex-1 py-3 font-bold text-lg",children:"áž‡áŸ’ážšáž¾ážŸážšáž¾ážŸ"})]})]})})]})},ne=({orders:n,onEdit:h,showActions:p,visibleColumns:f,selectedIds:d=new Set,onToggleSelect:m,onToggleSelectAll:i})=>{const{appData:x,refreshData:g,previewImage:o}=c.useContext(Q),[w,j]=c.useState(null),[L,S]=c.useState(new Set),[T,l]=c.useState(n);c.useEffect(()=>{l(n)},[n]);const s=t=>t==="actions"&&!p?!1:!f||f.has(t),v=n.length>0&&n.every(t=>d.has(t["Order ID"])),k=async(t,r)=>{const u=!r;l(y=>y.map(b=>b["Order ID"]===t?{...b,IsVerified:u}:b)),S(y=>new Set(y).add(t));try{if(!(await fetch(`${X}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"AllOrders",primaryKey:{"Order ID":t},newData:{IsVerified:u}})})).ok)throw new Error("Failed to save");g()}catch(y){console.error("Verification toggle failed:",y),l(b=>b.map(I=>I["Order ID"]===t?{...I,IsVerified:r}:I)),alert("ážšáž€áŸ’ážŸáž¶áž‘áž»áž€ážŸáŸ’ážáž¶áž“áž—áž¶áž–áž˜áž·áž“áž”áž¶áž“ážŸáž˜áŸ’ážšáŸáž…!")}finally{S(y=>{const b=new Set(y);return b.delete(t),b})}},C=t=>{let r=(t||"").replace(/[^0-9]/g,"");return r.length>0&&(r="0"+r.replace(/^0+/,"")),r},A=t=>{navigator.clipboard.writeText(t),j(t),setTimeout(()=>j(null),2e3)},z=t=>{if(!t)return;const r=C(t["Customer Phone"]),u=new URLSearchParams({id:t["Order ID"],name:t["Customer Name"]||"",phone:r,location:t.Location||"",address:t["Address Details"]||"",total:(t["Grand Total"]||0).toString(),payment:t["Payment Status"]||"Unpaid",shipping:t["Internal Shipping Method"]||"N/A",page:t.Page||"",user:t.User||""}),b=(t.Note||"").match(/https?:\/\/(www\.)?(google\.com\/maps|maps\.app\.goo\.gl)\/[^\s]+/);b&&u.set("map",b[0]),window.open(`${ee}?${u.toString()}`,"_blank")},H=t=>{if(!t||!x.phoneCarriers)return null;const u=t.replace(/\s/g,"").substring(0,3),y=x.phoneCarriers.find(b=>b.Prefixes.split(",").map(I=>I.trim()).includes(u));return y?D(y.CarrierLogoURL):null},a=t=>{if(!t||!x.shippingMethods)return null;const r=x.shippingMethods.find(u=>u.MethodName===t);return r?D(r.LogosURL):null};return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto page-card !p-0 overflow-hidden shadow-2xl border-gray-700/50",children:e.jsxs("table",{className:"admin-table w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800/80 border-b border-gray-700",children:[i&&e.jsx("th",{className:"px-4 py-4 w-10 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-600 bg-gray-900 text-blue-500 cursor-pointer",checked:v,onChange:()=>i(n.map(t=>t["Order ID"]))})}),s("index")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-12",children:"#"}),s("orderId")&&e.jsx("th",{className:"px-2 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-10",children:"ID"}),s("customerName")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400",children:"ážˆáŸ’áž˜áŸ„áŸ‡áž¢ážáž·ážáž·áž‡áž“"}),s("productInfo")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-64",children:"áž–áŸážáŸŒáž˜áž¶áž“ Product"}),s("location")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-40",children:"áž‘áž¸ážáž¶áŸ†áž„"}),s("pageInfo")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400",children:"Page"}),s("total")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-24",children:"ážŸážšáž»áž”áž‘áž¹áž€áž”áŸ’ážšáž¶áž€áŸ‹"}),s("shippingService")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-44",children:"ážŸáŸážœáž¶ážŠáž¹áž€"}),s("shippingCost")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-24",children:"ážáž˜áŸ’áž›áŸƒážŠáž¹áž€ážŠáž¾áž˜"}),s("status")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-24",children:"ážŸáŸ’ážáž¶áž“áž—áž¶áž–"}),s("date")&&e.jsx("th",{className:"px-5 py-4 text-xs font-black uppercase tracking-wider text-left text-gray-400 w-32",children:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘"}),s("print")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-16",children:"áž–áŸ’ážšáž¸áž“"}),s("actions")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-gray-400 w-24",children:"ážŸáž€áž˜áŸ’áž˜áž—áž¶áž–"}),s("check")&&e.jsx("th",{className:"px-4 py-4 text-xs font-black uppercase tracking-wider text-center text-emerald-500 w-16",children:"Verified"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700/50",children:T.map((t,r)=>{var V;const u=(V=x.pages)==null?void 0:V.find(N=>N.PageName===t.Page),y=u?D(u.PageLogoURL):"",b=C(t["Customer Phone"]),I=H(b),O=w===t["Order ID"],E=a(t["Internal Shipping Method"]),$=t["Order ID"],R=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",U=L.has($),P=d.has($),_=r<2,M=_?"top-full mt-3":"bottom-full mb-3",B=_?"-top-2 border-t border-l":"-bottom-2 border-r border-b";return e.jsxs("tr",{className:`${R?"bg-emerald-500/5":P?"bg-blue-500/10":"hover:bg-gray-700/20"} transition-all group`,children:[m&&e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-600 bg-gray-900 text-blue-500 cursor-pointer",checked:P,onChange:()=>m($)})}),s("index")&&e.jsx("td",{className:"px-4 py-4 text-center text-xs font-bold text-gray-500",children:r+1}),s("orderId")&&e.jsx("td",{className:"px-2 py-4 text-center w-10",children:e.jsx("button",{onClick:()=>A(t["Order ID"]),className:`p-2 rounded-lg transition-all border ${O?"bg-green-500/20 border-green-500/40 text-green-400":"bg-gray-800 border-gray-700 text-gray-400 hover:text-blue-400"}`,children:e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:O?"âœ“":"ID"})})}),s("customerName")&&e.jsxs("td",{className:"px-5 py-4",children:[e.jsx("div",{className:"font-bold text-gray-100 truncate max-w-[160px] mb-1",children:t["Customer Name"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[I&&e.jsx("img",{src:I,className:"w-4 h-4 object-contain",alt:"carrier"}),e.jsx("div",{className:"text-[11px] text-gray-400 font-mono tracking-tighter",children:b})]})]}),s("productInfo")&&e.jsx("td",{className:"px-5 py-4 w-64 relative",children:e.jsxs("div",{className:"group/prod flex flex-col gap-1 cursor-help",children:[t.Products.map((N,W)=>e.jsxs("div",{className:"text-[11px] bg-gray-900/50 p-1.5 rounded border border-white/5 flex flex-col",children:[e.jsx("span",{className:"font-black text-gray-200 line-clamp-1",children:N.name}),e.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[e.jsxs("span",{className:"text-blue-400 font-bold",children:["Qty: ",N.quantity]}),N.colorInfo&&e.jsxs("span",{className:"text-purple-400 italic",children:["Color: ",N.colorInfo]})]})]},W)),e.jsxs("div",{className:`invisible group-hover/prod:visible opacity-0 group-hover/prod:opacity-100 absolute z-[100] left-1/2 -translate-x-1/2 ${M} w-80 p-4 bg-gray-800 border border-gray-600 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] transition-all duration-300 pointer-events-none`,children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-3 border-b border-white/5 pb-2",children:"áž–áŸážáŸŒáž˜áž¶áž“áž‘áŸ†áž“áž·áž‰áž–áŸáž‰áž›áŸáž‰"}),e.jsx("div",{className:"space-y-3",children:t.Products.map((N,W)=>{var J;const F=(J=x.products)==null?void 0:J.find(q=>q.ProductName===N.name),Y=N.image||(F==null?void 0:F.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx("div",{className:"w-12 h-12 flex-shrink-0 bg-gray-900 rounded-lg border border-gray-700 overflow-hidden",children:e.jsx("img",{src:D(Y),className:"w-full h-full object-cover",alt:N.name,onError:q=>q.currentTarget.src="https://placehold.co/100x100/1f2937/4b5563?text=N/A"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-[11px] font-bold text-white leading-tight pr-2 line-clamp-2",children:N.name}),e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-1.5 py-0.5 rounded flex-shrink-0",children:["x",N.quantity]})]}),N.colorInfo&&e.jsxs("p",{className:"text-[9px] text-gray-500 mt-0.5 italic",children:["áž–ážŽáŸŒáŸ– ",N.colorInfo]})]})]},W)})}),e.jsx("div",{className:`absolute ${B} left-1/2 -translate-x-1/2 w-4 h-4 bg-gray-800 border border-gray-600 rotate-45`})]})]})}),s("location")&&e.jsx("td",{className:"px-5 py-4 w-40 relative",children:e.jsxs("div",{className:"group/loc cursor-help",children:[e.jsx("div",{className:"text-base font-black text-gray-100 leading-tight",children:t.Location}),e.jsx("div",{className:"text-xs font-bold text-gray-500 mt-1 line-clamp-2",children:t["Address Details"]}),e.jsxs("div",{className:`invisible group-hover/loc:visible opacity-0 group-hover/loc:opacity-100 absolute z-[100] left-1/2 -translate-x-1/2 ${M} w-64 p-4 bg-gray-800 border border-gray-600 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] transition-all duration-300 pointer-events-none`,children:[e.jsx("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-2 border-b border-white/5 pb-2",children:"áž‘áž¸ážáž¶áŸ†áž„ áž“áž·áž„áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“"}),e.jsx("p",{className:"text-sm font-black text-white mb-2 text-left",children:t.Location}),e.jsx("p",{className:"text-xs text-gray-300 leading-relaxed font-medium text-left",children:t["Address Details"]||"áž˜áž·áž“áž˜áž¶áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“áž›áž˜áŸ’áž¢áž·áž"}),e.jsx("div",{className:`absolute ${B} left-1/2 -translate-x-1/2 w-4 h-4 bg-gray-800 border border-gray-600 rotate-45`})]})]})}),s("pageInfo")&&e.jsx("td",{className:"px-5 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[y?e.jsx("img",{src:y,className:"w-6 h-6 rounded-full border border-gray-700 shadow-sm",alt:"logo"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-[7px] text-gray-600 font-bold",children:"Log"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-300 block truncate",children:t.Page}),e.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:t.Team})]})]})}),s("total")&&e.jsxs("td",{className:"px-5 py-4 font-black text-blue-400 text-base tracking-tight w-24",children:["$",t["Grand Total"].toFixed(2)]}),s("shippingService")&&e.jsx("td",{className:"px-5 py-4 text-[11px] text-yellow-500/80 font-bold uppercase w-44",children:e.jsxs("div",{className:"flex items-center gap-2",children:[E&&e.jsx("img",{src:E,className:"w-5 h-5 rounded-full object-contain",alt:"shipping"}),e.jsx("span",{children:t["Internal Shipping Method"]||"-"})]})}),s("shippingCost")&&e.jsxs("td",{className:"px-5 py-4 text-[11px] text-orange-400 font-mono w-24",children:["$",(Number(t["Internal Cost"])||0).toFixed(2)]}),s("status")&&e.jsx("td",{className:"px-5 py-4 w-24",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider shadow-sm border ${t["Payment Status"]==="Paid"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})}),s("date")&&e.jsx("td",{className:"px-5 py-4 text-[10px] text-gray-500 w-32",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("print")&&e.jsx("td",{className:"px-4 py-4 text-center w-16",children:e.jsx("button",{onClick:()=>z(t),className:"text-emerald-400 hover:text-white bg-emerald-400/5 hover:bg-emerald-600 p-2 rounded-lg transition-all border border-emerald-400/20 shadow-sm",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})}),s("actions")&&e.jsx("td",{className:"px-4 py-4 text-center w-24",children:e.jsx("button",{onClick:()=>h&&h(t),className:"text-blue-400 hover:text-white bg-blue-400/5 hover:bg-blue-600 px-4 py-1.5 rounded-lg text-xs font-black transition-all border border-blue-400/20 shadow-sm",children:"Edit"})}),s("check")&&e.jsx("td",{className:"px-4 py-4 text-center w-16",children:e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:()=>k($,R),className:`h-6 w-6 rounded border-gray-600 bg-gray-800 text-emerald-500 focus:ring-emerald-500/20 cursor-pointer transition-all active:scale-150 ${U?"opacity-30":"hover:scale-110"}`}),U&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx(G,{size:"sm"})})]})})]},$)})})]})}),e.jsx("div",{className:"md:hidden space-y-4",children:T.map((t,r)=>{var U;const u=(U=x.pages)==null?void 0:U.find(P=>P.PageName===t.Page),y=u?D(u.PageLogoURL):"",b=C(t["Customer Phone"]),I=H(b),O=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",E=L.has(t["Order ID"]),$=d.has(t["Order ID"]),R=a(t["Internal Shipping Method"]);return e.jsxs("div",{className:`bg-gray-800/40 border ${$?"border-blue-500 shadow-blue-500/10":O?"border-emerald-500/50":"border-gray-700"} rounded-2xl p-4 shadow-lg space-y-4 animate-fade-in relative`,children:[m&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("input",{type:"checkbox",className:"h-6 w-6 rounded-lg border-gray-600 bg-gray-900 text-blue-500 focus:ring-blue-500/20 cursor-pointer",checked:$,onChange:()=>m(t["Order ID"])})}),e.jsxs("div",{className:`flex justify-between items-start ${m?"pl-10":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-900 border border-gray-700 flex items-center justify-center overflow-hidden",children:y?e.jsx("img",{src:y,className:"w-full h-full object-cover",alt:"logo"}):e.jsx("span",{className:"text-[10px] font-black text-gray-500",children:"Log"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-white leading-none",children:t["Customer Name"]}),e.jsxs("p",{className:"text-[10px] text-gray-500 uppercase font-black mt-1",children:[t.Page," (",t.Team,")"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:()=>A(t["Order ID"]),className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border transition-all ${w===t["Order ID"]?"bg-green-500 text-white border-green-500":"bg-gray-900 text-gray-400 border-gray-700"}`,children:w===t["Order ID"]?"Copied":t["Order ID"].substring(0,8)}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase border ${t["Payment Status"]==="Paid"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})]})]}),s("productInfo")&&t.Products&&t.Products.length>0&&e.jsxs("div",{className:"bg-black/20 rounded-xl p-2.5 border border-white/5 space-y-1.5",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-1 ml-1 flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"áž‘áŸ†áž“áž·áž‰ážŠáŸ‚áž›áž”áž¶áž“áž€áž˜áŸ’áž˜áž„áŸ‹"]}),e.jsx("div",{className:"space-y-1.5",children:t.Products.map((P,_)=>{var V;const M=(V=x.products)==null?void 0:V.find(N=>N.ProductName===P.name),B=P.image||(M==null?void 0:M.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/40 p-1.5 rounded-lg border border-white/5",children:[e.jsx("div",{className:"w-8 h-8 flex-shrink-0 bg-gray-800 rounded border border-gray-700 overflow-hidden",onClick:()=>o(D(B)),children:e.jsx("img",{src:D(B),className:"w-full h-full object-cover",alt:""})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsx("p",{className:"text-[11px] font-bold text-gray-200 truncate leading-tight",children:P.name}),e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-1 rounded flex-shrink-0",children:["x",P.quantity]})]}),P.colorInfo&&e.jsx("p",{className:"text-[9px] text-gray-500 italic mt-0.5 truncate",children:P.colorInfo})]})]},_)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 font-bold uppercase text-[9px] tracking-widest",children:"áž›áŸážáž‘áž¼ážšážŸáŸáž–áŸ’áž‘"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[I&&e.jsx("img",{src:I,className:"w-3.5 h-3.5 object-contain",alt:""}),e.jsx("span",{className:"text-white font-mono",children:b})]})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-gray-500 font-bold uppercase text-[9px] tracking-widest",children:"ážŸážšáž»áž”áž‘áž¹áž€áž”áŸ’ážšáž¶áž€áŸ‹"}),e.jsxs("p",{className:"text-blue-400 font-black text-sm",children:["$",t["Grand Total"].toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-500 font-bold uppercase text-[9px] tracking-widest",children:"áž‘áž¸ážáž¶áŸ†áž„"}),e.jsx("p",{className:"text-white font-bold truncate max-w-[140px]",children:t.Location})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("p",{className:"text-gray-500 font-bold uppercase text-[9px] tracking-widest",children:"ážŠáž¹áž€áž‡áž‰áŸ’áž‡áž¼áž“"}),e.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[R&&e.jsx("img",{src:R,className:"w-3 h-3 object-contain",alt:""}),e.jsx("span",{className:"text-white truncate max-w-[100px]",children:t["Internal Shipping Method"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s("actions")&&e.jsx("button",{onClick:()=>h&&h(t),className:"p-2.5 bg-blue-600/10 text-blue-400 rounded-xl border border-blue-500/20 active:scale-95 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s("print")&&e.jsx("button",{onClick:()=>z(t),className:"p-2.5 bg-emerald-600/10 text-emerald-400 rounded-xl border border-emerald-500/20 active:scale-95 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] text-gray-500 font-bold italic",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("check")&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:()=>k(t["Order ID"],O),className:`h-8 w-8 rounded-lg border-gray-600 bg-gray-900 text-emerald-500 focus:ring-emerald-500/20 transition-all ${E?"opacity-20":"active:scale-125"}`}),E&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(G,{size:"sm"})})]})]})]})]},t["Order ID"])})})]})};export{ne as O,re as S};
