import{r,A as Q,j as e,M as Y,c as D,S as K,f as Z,W as G,L as ee}from"./index-CONlGLAB.js";import{c as te}from"./imageCompressor-D5vYYzIg.js";const se=({product:a,isOpen:n,onClose:f,onConfirm:m,showTagEditor:c=!0})=>{const{refreshData:i}=r.useContext(Q),[p,x]=r.useState(""),[b,d]=r.useState(window.innerWidth<768),[j,o]=r.useState(!1),[v,N]=r.useState(null),g=r.useRef(null),L=r.useRef(null);r.useEffect(()=>{const u=()=>d(window.innerWidth<768);return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),r.useEffect(()=>{if(a&&n){x(a.Tags||""),N(a.ImageURL);const u=setTimeout(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth",block:"center"})},100);return()=>clearTimeout(u)}},[a,n]);const s=async u=>{var U;const I=(U=u.target.files)==null?void 0:U[0];if(!(!I||!a)){o(!0);try{const O=await te(I,.7,1024),l=await Z(O),h=await fetch(`${G}/api/upload-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileData:l,fileName:I.name,mimeType:O.type})}),w=await h.json();if(!h.ok||w.status!=="success")throw new Error(w.message||"Upload failed");const t=w.url;if(!(await fetch(`${G}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"Products",primaryKey:{ProductName:a.ProductName},newData:{ImageURL:t}})})).ok)throw new Error("Failed to update product database");N(t),await i()}catch(O){console.error("Image Update Error:",O),alert(`ការ Update រូបភាពបរាជ័យ: ${O.message}`)}finally{o(!1),L.current&&(L.current.value="")}}};return a?e.jsx(Y,{isOpen:n,onClose:f,maxWidth:b?"max-w-[95vw]":"max-w-2xl",children:e.jsxs("div",{ref:g,className:"bg-[#0f172a] rounded-[2rem] sm:rounded-[3rem] overflow-hidden shadow-[0_30px_100px_rgba(0,0,0,0.8)] border border-white/5 relative",children:[e.jsxs("div",{className:"relative h-48 sm:h-72 w-full group",children:[e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx("img",{src:D(v||a.ImageURL),className:"w-full h-full object-cover blur-3xl opacity-30",alt:""})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 p-6",children:e.jsxs("div",{className:"relative h-full aspect-square group/img",children:[e.jsx("img",{src:D(v||a.ImageURL),className:`h-full w-auto object-contain rounded-2xl sm:rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] border border-white/10 transform transition-all duration-500 ${j?"opacity-40 blur-sm scale-95":"group-hover/img:scale-105"}`,alt:a.ProductName}),e.jsxs("button",{onClick:()=>{var u;return(u=L.current)==null?void 0:u.click()},disabled:j,className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 opacity-0 group-hover/img:opacity-100 transition-opacity rounded-2xl sm:rounded-3xl cursor-pointer disabled:cursor-not-allowed",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-full border border-white/20 mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h14a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2-2v12a2 2 0 002 2z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:"ប្តូររូបភាព"})]}),j&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/20 rounded-2xl",children:[e.jsx(K,{size:"lg"}),e.jsx("span",{className:"text-[10px] font-black text-blue-400 uppercase mt-2 animate-pulse",children:"Uploading..."})]})]})}),e.jsx("input",{type:"file",ref:L,className:"hidden",accept:"image/*",onChange:s}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("div",{className:"bg-emerald-500 text-white font-black px-4 py-2 rounded-2xl shadow-xl border-2 border-white/20 text-lg",children:["$",a.Price.toFixed(2)]})})]}),e.jsxs("div",{className:"p-6 sm:p-10 text-center space-y-6 sm:space-y-8 bg-gradient-to-b from-transparent to-black/40",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-500 text-[10px] sm:text-xs font-black uppercase tracking-[0.4em] mb-3",children:"បញ្ជាក់ការជ្រើសរើស"}),e.jsx("h3",{className:"text-2xl sm:text-4xl font-black text-white leading-tight break-words",children:a.ProductName}),c&&e.jsxs("div",{className:"mt-6 text-left space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Tags ផលិតផល (ឧ. Promotion, New...)"}),e.jsx("input",{type:"text",value:p,onChange:u=>x(u.target.value),className:"form-input !py-3.5 bg-black/40 border-gray-700 focus:border-blue-500/50 rounded-2xl font-bold text-gray-200",placeholder:"បញ្ចូល tags..."})]}),a.Barcode&&e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-white/5 px-4 py-1.5 rounded-full border border-white/5",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{className:"text-gray-400 font-mono text-xs tracking-widest",children:a.Barcode})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 w-full",children:[e.jsx("button",{onClick:f,className:"order-2 sm:order-1 flex-1 py-4 sm:py-5 bg-gray-800/50 hover:bg-gray-800 text-gray-400 font-black rounded-2xl uppercase text-[11px] tracking-widest transition-all active:scale-95 border border-white/5",children:"បោះបង់"}),e.jsxs("button",{onClick:()=>m(a.ProductName,p),className:"order-1 sm:order-2 flex-[2] py-4 sm:py-5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-black rounded-2xl uppercase text-xs tracking-[0.2em] shadow-[0_10px_30px_rgba(37,99,235,0.4)] hover:from-blue-500 hover:to-indigo-500 transition-all active:scale-95 flex items-center justify-center gap-3",children:["ជ្រើសរើសយក",e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-blue-600/10 rounded-full blur-[80px] pointer-events-none"}),e.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-indigo-600/10 rounded-full blur-[80px] pointer-events-none"})]})}):null},ae=(a,n)=>{if(!n||!a)return e.jsx("span",{children:a});const f=n.split(" ").filter(Boolean).map(c=>c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(f.length===0)return e.jsx("span",{children:a});const m=new RegExp(`(${f.join("|")})`,"gi");return e.jsx(e.Fragment,{children:a.split(m).map((c,i)=>m.test(c)&&c.trim()!==""?e.jsx("strong",{className:"text-yellow-300 bg-yellow-900/50 rounded-sm px-0.5",children:c},i):c)})},re=(a,n)=>{const f=(a.ProductName||"").toLowerCase(),m=(a.Barcode||"").toLowerCase(),c=`${f} ${m}`,i=n.toLowerCase().trim();if(!i)return 1;const p=i.split(" ").filter(Boolean);if(!p.every(d=>c.includes(d)))return 0;let b=10;return p.forEach(d=>{f.includes(d)&&(b+=20),m.includes(d)&&(b+=10)}),f.startsWith(i)&&(b+=500),b},ie=({products:a,selectedProductName:n,onSelect:f,showTagEditor:m=!0})=>{const[c,i]=r.useState(!1),[p,x]=r.useState(""),[b,d]=r.useState(0),[j,o]=r.useState(null),v=r.useRef(null),N=r.useRef(null);r.useEffect(()=>{x(n)},[n]),r.useEffect(()=>{const l=h=>{v.current&&!v.current.contains(h.target)&&(i(!1),x(n))};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[n]);const g=r.useMemo(()=>{const l=p||"";return l.trim()?a.map(h=>({product:h,score:re(h,l)})).filter(h=>h.score>0).sort((h,w)=>w.score-h.score||h.product.ProductName.localeCompare(w.product.ProductName)).map(h=>h.product):[]},[a,p]),L=r.useMemo(()=>{const l=p.trim();return l?!a.some(h=>h.ProductName.trim().toLowerCase()===l.toLowerCase()):!1},[p,a]),s=r.useMemo(()=>{const l=[...g];return L&&l.unshift({isAddNew:!0,ProductName:p.trim()}),l},[g,L,p]),u=r.useCallback((l,h)=>{var w;f(l,h),x(l),i(!1),o(null),d(0),(w=N.current)==null||w.blur()},[f]),I=l=>{l.isAddNew?u(l.ProductName):(o(l),i(!1))},U=r.useCallback(()=>{var l;f("",""),x(""),i(!0),d(0),(l=N.current)==null||l.focus()},[f]),O=l=>{var w;const h=s.length;if(h!==0)switch(l.key){case"ArrowDown":l.preventDefault(),c||i(!0),d(t=>(t+1)%h);break;case"ArrowUp":l.preventDefault(),c||i(!0),d(t=>(t-1+h)%h);break;case"Enter":if(l.preventDefault(),!c)return;b>-1&&s[b]&&I(s[b]);break;case"Escape":i(!1),x(n),(w=N.current)==null||w.blur();break}};return e.jsxs("div",{className:"relative",ref:v,children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{ref:N,type:"text",className:"form-input !pr-16 !py-3.5 bg-gray-900/50 border-gray-700 group-hover:border-blue-500/50 transition-all rounded-[1.25rem] font-bold text-gray-200",placeholder:"ស្វែងរកផលិតផល...",value:p,onChange:l=>{x(l.target.value),i(!0),d(0)},onFocus:()=>i(!0),onKeyDown:O}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[p&&e.jsx("button",{type:"button",onClick:U,className:"text-gray-500 hover:text-white text-2xl",children:"×"}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),c&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-gray-800/95 backdrop-blur-xl border border-white/10 rounded-[1.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden animate-fade-in-down max-h-80 overflow-y-auto custom-scrollbar",children:e.jsx("ul",{className:"p-2 space-y-1",children:s.length===0?e.jsx("li",{className:"p-4 text-center text-xs text-gray-500 font-black uppercase tracking-widest",children:"រកមិនឃើញផលិតផលទេ"}):s.map((l,h)=>{if("isAddNew"in l&&l.isAddNew)return e.jsxs("li",{className:`p-3.5 rounded-2xl cursor-pointer flex items-center gap-4 transition-all ${b===h?"bg-blue-600 text-white":"hover:bg-white/5 text-gray-300"}`,onMouseDown:()=>I(l),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center border border-blue-500/30",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"})})}),e.jsx("div",{className:"min-w-0",children:e.jsxs("p",{className:"font-black text-sm leading-tight",children:["បន្ថែមថ្មី៖ ",e.jsxs("span",{className:"text-yellow-400",children:['"',l.ProductName,'"']})]})})]},"add-new");const w=l;return e.jsxs("li",{className:`p-2.5 rounded-2xl cursor-pointer flex items-center gap-3 transition-all ${b===h?"bg-blue-600 text-white shadow-lg":"hover:bg-white/5 text-gray-300"}`,onMouseDown:()=>I(w),children:[e.jsx("img",{src:D(w.ImageURL),className:"w-12 h-12 rounded-xl object-cover border border-white/10",alt:""}),e.jsxs("div",{className:"min-w-0 flex-grow",children:[e.jsx("p",{className:"font-black text-[15px] truncate leading-tight",children:ae(w.ProductName,p)}),e.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded-md border border-blue-500/10",children:["$",w.Price.toFixed(2)]})})]})]},w.ProductName)})})}),e.jsx(se,{product:j,isOpen:!!j,onClose:()=>o(null),onConfirm:u,showTagEditor:m})]})},oe=({methods:a,selectedMethodName:n,onSelect:f,placeholder:m="ជ្រើសរើសសេវាដឹកជញ្ជូន..."})=>{const[c,i]=r.useState(!1),[p,x]=r.useState(""),b=r.useRef(null);r.useEffect(()=>{const o=a.find(v=>v.MethodName===n);o&&x(o.MethodName)},[n,a]),r.useEffect(()=>{const o=v=>{if(b.current&&!b.current.contains(v.target)){i(!1);const N=a.find(g=>g.MethodName===n);x(N?N.MethodName:"")}};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n,a]);const d=r.useMemo(()=>{if(!p.trim())return a;const o=p.toLowerCase();return a.filter(v=>v.MethodName.toLowerCase().includes(o))},[a,p]),j=a.find(o=>o.MethodName===n);return e.jsxs("div",{className:"relative w-full",ref:b,children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",className:"form-input !pl-14 !pr-10 !py-3.5 bg-gray-900/50 border-gray-700 group-hover:border-blue-500/50 transition-all rounded-[1.25rem] font-bold text-gray-200",placeholder:m,value:p,onChange:o=>{x(o.target.value),i(!0)},onFocus:()=>i(!0)}),e.jsx("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-800 overflow-hidden border border-white/5 flex items-center justify-center p-1 shadow-inner",children:j?e.jsx("img",{src:D(j.LogosURL),className:"w-full h-full object-contain",alt:""}):e.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M13 16l4-4 4 4"})]})})}),e.jsx("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-blue-500 transition-colors",children:e.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 9l-7 7-7-7",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-gray-800/95 backdrop-blur-xl border border-white/10 rounded-[1.5rem] shadow-[0_20px_60px_rgba(0,0,0,0.6)] overflow-hidden animate-fade-in-down",children:e.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar p-2.5 space-y-1.5",children:d.length>0?d.map(o=>e.jsxs("button",{type:"button",onClick:()=>{f(o),x(o.MethodName),i(!1)},className:`w-full flex items-center gap-3.5 p-3 rounded-2xl transition-all ${n===o.MethodName?"bg-blue-600 text-white shadow-lg shadow-blue-600/20":"text-gray-300 hover:bg-white/5"}`,children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gray-900 border-2 border-white/10 p-1.5 shadow-sm flex-shrink-0 flex items-center justify-center",children:e.jsx("img",{src:D(o.LogosURL),className:"w-full h-full object-contain",alt:""})}),e.jsxs("div",{className:"text-left min-w-0 flex-grow",children:[e.jsx("p",{className:"font-black text-[15px] truncate leading-tight",children:o.MethodName}),e.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:e.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded-md font-black uppercase tracking-tighter ${n===o.MethodName?"bg-white/20 text-white":"bg-blue-500/10 text-blue-400"}`,children:o.RequireDriverSelection?"Driver Selection Req":"Standard Service"})})]})]},o.MethodName)):e.jsx("div",{className:"p-6 text-center text-xs text-gray-500 font-black uppercase tracking-widest",children:"រកមិនឃើញសេវាដឹកជញ្ជូនទេ"})})})]})},ce=({provinces:a,selectedProvince:n,onSelect:f})=>{const[m,c]=r.useState(!1),[i,p]=r.useState(""),x=r.useRef(null);r.useEffect(()=>{p(n)},[n]),r.useEffect(()=>{const d=j=>{x.current&&!x.current.contains(j.target)&&(c(!1),p(n))};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[n]);const b=r.useMemo(()=>{const d=a.filter(g=>g.toLowerCase().includes(i.toLowerCase())),j=d.filter(g=>!g.includes("ភ្នំពេញ")&&!g.includes("កណ្ដាល")).sort((g,L)=>g.localeCompare(L,"km")),o=[],v=d.find(g=>g.includes("ភ្នំពេញ")),N=d.find(g=>g.includes("កណ្ដាល"));return v&&o.push(v),N&&o.push(N),[...o,...j]},[a,i]);return e.jsxs("div",{className:"relative w-full",ref:x,children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",className:"form-input !pl-10 !py-3 rounded-xl border-gray-700 bg-gray-900 focus:border-blue-500/50 transition-all font-bold text-gray-200",placeholder:"ស្វែងរក ខេត្ត/រាជធានី...",value:i,onChange:d=>{p(d.target.value),c(!0)},onFocus:()=>c(!0)}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),m&&e.jsx("div",{className:"absolute z-[100] w-full mt-2 bg-gray-800 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-down max-h-60 overflow-y-auto custom-scrollbar",children:b.length>0?b.map((d,j)=>e.jsx("button",{type:"button",onClick:()=>{f(d),p(d),c(!1)},className:`w-full text-left px-4 py-3 text-sm font-bold transition-colors border-b border-white/5 last:border-0 ${n===d?"bg-blue-600 text-white":"text-gray-300 hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:d}),j<2&&i===""&&e.jsx("span",{className:"text-[8px] bg-white/10 px-1.5 py-0.5 rounded uppercase tracking-widest opacity-50",children:"Priority"})]})},d)):e.jsx("div",{className:"p-4 text-center text-xs text-gray-500",children:"រកមិនឃើញខេត្តនេះទេ"})})]})},de=({value:a,onChange:n,label:f="ចំនួន*",min:m=1,max:c=99})=>{var L;const i=r.useRef(null),[p,x]=r.useState(!1),b=()=>{const s=Math.min(c,a+1);n(s)},d=()=>{const s=Math.max(m,a-1);n(s)},j=s=>{const u=s.target.value;if(u===""){x(!0);return}const I=parseInt(u,10);isNaN(I)||(I<m||I>c?x(!0):(n(I),x(!1)))},o=()=>{if(p){const s=i.current;if(s&&s.value){let u=parseInt(s.value,10);isNaN(u)||u<m?u=m:u>c&&(u=c),n(u)}else n(m);x(!1)}},v=s=>{var u;s.key==="Enter"?(s.preventDefault(),o(),(u=i.current)==null||u.blur()):s.key==="ArrowUp"?(s.preventDefault(),b()):s.key==="ArrowDown"&&(s.preventDefault(),d())},N=()=>{x(!0)},g=p?((L=i.current)==null?void 0:L.value)||"":a;return e.jsxs("div",{className:"space-y-1.5 w-full",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:f}),e.jsxs("div",{className:"flex items-center bg-black/40 rounded-2xl border border-gray-700 h-12 w-full overflow-hidden focus-within:border-blue-500/50 transition-all focus-within:shadow-[0_0_20px_rgba(59,130,246,0.15)] ring-1 ring-white/5",children:[e.jsx("button",{type:"button",className:`
                        w-12 h-full flex items-center justify-center 
                        ${a<=m?"text-gray-600 cursor-not-allowed opacity-50":"text-gray-400 hover:text-white hover:bg-white/5 active:scale-90"}
                        transition-all border-r border-gray-700/50
                    `,onClick:d,disabled:a<=m,"aria-label":"ថយចំនួន",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:e.jsx("path",{d:"M20 12H4"})})}),e.jsx("input",{ref:i,type:"number",inputMode:"numeric",value:g,onChange:j,onBlur:o,onFocus:N,onKeyDown:v,min:m,max:c,step:"1",className:"flex-1 h-full bg-transparent text-center text-white font-black text-base outline-none border-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:m.toString(),"aria-label":"ចំនួន"}),e.jsx("button",{type:"button",className:`
                        w-12 h-full flex items-center justify-center 
                        ${a>=c?"text-gray-600 cursor-not-allowed opacity-50":"text-blue-400 hover:text-white hover:bg-blue-600/10 active:scale-90"}
                        transition-all border-l border-gray-700/50
                    `,onClick:b,disabled:a>=c,"aria-label":"បន្ថែមចំនួន",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:e.jsx("path",{d:"M12 4v16m8-8H4"})})})]}),e.jsxs("div",{className:"text-xs text-gray-500 px-1 flex justify-between",children:[e.jsxs("span",{children:["អប្បបរមា: ",m]}),e.jsxs("span",{children:["អតិបរមា: ",c]})]})]})},xe=({orders:a,onEdit:n,showActions:f,visibleColumns:m,selectedIds:c=new Set,onToggleSelect:i,onToggleSelectAll:p})=>{const{appData:x,refreshData:b,previewImage:d}=r.useContext(Q),[j,o]=r.useState(null),[v,N]=r.useState(new Set),[g,L]=r.useState(a);r.useEffect(()=>{L(a)},[a]);const s=t=>t==="actions"&&!f?!1:!m||m.has(t),u=a.length>0&&a.every(t=>c.has(t["Order ID"])),I=async(t,k)=>{const P=!k;L(C=>C.map(y=>y["Order ID"]===t?{...y,IsVerified:P}:y)),N(C=>new Set(C).add(t));try{if(!(await fetch(`${G}/api/admin/update-sheet`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sheetName:"AllOrders",primaryKey:{"Order ID":t},newData:{IsVerified:P}})})).ok)throw new Error("Failed to save");b()}catch(C){console.error("Verification toggle failed:",C),L(y=>y.map(M=>M["Order ID"]===t?{...M,IsVerified:k}:M)),alert("រក្សាទុកស្ថានភាពមិនបានសម្រេច!")}finally{N(C=>{const y=new Set(C);return y.delete(t),y})}},U=t=>{let k=(t||"").replace(/[^0-9]/g,"");return k.length>0&&(k="0"+k.replace(/^0+/,"")),k},O=t=>{navigator.clipboard.writeText(t),o(t),setTimeout(()=>o(null),2e3)},l=t=>{if(!t)return;const k=U(t["Customer Phone"]),P=new URLSearchParams({id:t["Order ID"],name:t["Customer Name"]||"",phone:k,location:t.Location||"",address:t["Address Details"]||"",total:(t["Grand Total"]||0).toString(),payment:t["Payment Status"]||"Unpaid",shipping:t["Internal Shipping Method"]||"N/A",page:t.Page||"",user:t.User||""}),y=(t.Note||"").match(/https?:\/\/(www\.)?(google\.com\/maps|maps\.app\.goo\.gl)\/[^\s]+/);y&&P.set("map",y[0]),window.open(`${ee}?${P.toString()}`,"_blank")},h=t=>{if(!t||!x.phoneCarriers)return null;const P=t.replace(/\s/g,"").substring(0,3),C=x.phoneCarriers.find(y=>y.Prefixes.split(",").map(M=>M.trim()).includes(P));return C?D(C.CarrierLogoURL):null},w=t=>{if(!t||!x.shippingMethods)return null;const k=x.shippingMethods.find(P=>P.MethodName===t);return k?D(k.LogosURL):null};return e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("div",{className:"flex-grow space-y-4",children:[e.jsx("div",{className:"hidden md:block page-card !p-0 shadow-2xl border-white/5 min-h-[1500px] overflow-visible bg-gray-900/60 backdrop-blur-3xl rounded-[2.5rem]",children:e.jsxs("table",{className:"admin-table w-full border-collapse",style:{tableLayout:"fixed"},children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800/80 border-b border-white/10",children:[p&&e.jsx("th",{className:"px-4 py-6 w-12 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-md border-gray-600 bg-gray-900 text-blue-500 cursor-pointer focus:ring-blue-500/20",checked:u,onChange:()=>p(a.map(t=>t["Order ID"]))})}),s("index")&&e.jsx("th",{className:"px-4 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-center text-gray-500 w-12",children:"#"}),s("orderId")&&e.jsx("th",{className:"px-2 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-center text-gray-500 w-16",children:"Node ID"}),s("customerName")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-56",children:"Merchant/Client"}),s("productInfo")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-44",children:"Assets"}),s("location")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-52",children:"Geography"}),s("pageInfo")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-44",children:"Source Page"}),s("total")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-32",children:"Valuation"}),s("shippingService")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-48",children:"Logistics"}),s("shippingCost")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-28",children:"Exp. Cost"}),s("status")&&e.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-32",children:"Status"}),s("date")&&e.jsx("th",{className:"px-4 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-left text-gray-500 w-20",children:"Time"}),s("print")&&e.jsx("th",{className:"px-4 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-center text-gray-500 w-16",children:"P"}),s("actions")&&e.jsx("th",{className:"px-4 py-6 text-[10px] font-black uppercase tracking-[0.2em] text-center text-gray-500 w-24",children:"Command"}),s("check")&&e.jsx("th",{className:"px-2 py-6 text-[9px] font-normal uppercase tracking-[0.15em] text-center text-emerald-500/80 w-14",children:"VERIFIED"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5",children:g.map((t,k)=>{var A;const P=(A=x.pages)==null?void 0:A.find(S=>S.PageName===t.Page),C=P?D(P.PageLogoURL):"",y=U(t["Customer Phone"]),M=h(y),$=j===t["Order ID"],z=w(t["Internal Shipping Method"]),E=t["Order ID"],T=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",B=v.has(E),V=c.has(E),R=k>g.length-3&&g.length>4,H=R?"bottom-full mb-3":"top-full mt-3",_=R?"-bottom-2 border-r border-b":"-top-2 border-t border-l";return e.jsxs("tr",{className:`${T?"bg-emerald-500/[0.03]":V?"bg-blue-500/10":"hover:bg-white/[0.02]"} transition-all group relative`,children:[i&&e.jsx("td",{className:"px-4 py-5 text-center",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-md border-gray-700 bg-gray-950 text-blue-500 cursor-pointer transition-all",checked:V,onChange:()=>i(E)})}),s("index")&&e.jsx("td",{className:"px-4 py-5 text-center text-[11px] font-bold text-gray-600",children:k+1}),s("orderId")&&e.jsx("td",{className:"px-2 py-5 text-center",children:e.jsx("button",{onClick:()=>O(t["Order ID"]),className:`p-2 rounded-xl transition-all border ${$?"bg-green-500/20 border-green-500/40 text-green-400":"bg-gray-800 border-white/5 text-gray-500 hover:text-blue-400 active:scale-90"}`,children:e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:$?"✓":"ID"})})}),s("customerName")&&e.jsxs("td",{className:"px-6 py-5",children:[e.jsx("div",{className:"text-[16px] font-black text-gray-100 truncate mb-1 leading-tight tracking-tight",children:t["Customer Name"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M&&e.jsx("img",{src:M,className:"w-4 h-4 object-contain opacity-80",alt:"carrier"}),e.jsx("div",{className:"text-[13px] text-blue-400/80 font-mono font-black tracking-tighter",children:y})]})]}),s("productInfo")&&e.jsx("td",{className:"px-6 py-5 relative overflow-visible",children:e.jsxs("div",{className:"group/prod flex flex-col gap-1 cursor-help",children:[t.Products.slice(0,2).map((S,W)=>e.jsxs("div",{className:"text-[10px] bg-black/40 p-1.5 rounded-lg border border-white/5 flex flex-col",children:[e.jsx("span",{className:"font-bold text-gray-300 line-clamp-1",children:S.name}),e.jsxs("span",{className:"text-blue-400/80 font-black mt-0.5",children:["x",S.quantity]})]},W)),t.Products.length>2&&e.jsxs("p",{className:"text-[8px] text-gray-600 font-black ml-1 uppercase tracking-widest",children:["+ ",t.Products.length-2," items"]}),e.jsxs("div",{className:`invisible group-hover/prod:visible opacity-0 group-hover/prod:opacity-100 absolute z-[200] left-1/2 -translate-x-1/2 ${H} w-80 p-5 bg-[#1a2235] border border-white/10 rounded-[2.5rem] shadow-[0_40px_100px_rgba(0,0,0,0.8)] transition-all duration-300 pointer-events-none backdrop-blur-3xl`,children:[e.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.3em] mb-4 border-b border-white/5 pb-3",children:"Operational Asset Data"}),e.jsx("div",{className:"space-y-3 max-h-[350px] overflow-y-auto custom-scrollbar pr-1",children:t.Products.map((S,W)=>{var J;const F=(J=x.products)==null?void 0:J.find(q=>q.ProductName===S.name),X=S.image||(F==null?void 0:F.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-4 text-left p-2.5 bg-black/30 rounded-2xl border border-white/5",children:[e.jsx("div",{className:"w-14 h-14 flex-shrink-0 bg-gray-900 rounded-xl border border-gray-800 overflow-hidden shadow-inner",children:e.jsx("img",{src:D(X),className:"w-full h-full object-cover",alt:S.name,onError:q=>q.currentTarget.src="https://placehold.co/100x100/1f2937/4b5563?text=N/A"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-[12px] font-black text-white leading-tight mb-1 line-clamp-2",children:S.name}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-2.5 py-0.5 rounded-lg border border-blue-500/10",children:["x",S.quantity]}),S.colorInfo&&e.jsxs("span",{className:"text-[9px] text-purple-400 font-bold uppercase",children:["Node: ",S.colorInfo]})]})]})]},W)})}),e.jsx("div",{className:`absolute ${_} left-1/2 -translate-x-1/2 w-5 h-5 bg-[#1a2235] border-white/10 rotate-45`})]})]})}),s("location")&&e.jsx("td",{className:"px-6 py-5 relative overflow-visible",children:e.jsxs("div",{className:"group/loc cursor-help",children:[e.jsx("div",{className:"text-[12px] font-black text-gray-200 leading-tight truncate",children:t.Location}),e.jsx("div",{className:"text-[10px] font-bold text-gray-600 mt-1 line-clamp-1",children:t["Address Details"]}),e.jsxs("div",{className:`invisible group-hover/loc:visible opacity-0 group-hover/loc:opacity-100 absolute z-[200] left-1/2 -translate-x-1/2 ${H} w-72 p-5 bg-[#1a2235] border border-white/10 rounded-[2.5rem] shadow-[0_40px_100px_rgba(0,0,0,0.8)] transition-all duration-300 pointer-events-none backdrop-blur-3xl`,children:[e.jsx("p",{className:"text-[9px] font-black text-blue-400 uppercase tracking-[0.3em] mb-3 border-b border-white/5 pb-2",children:"Geographic Assignment"}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest",children:"Region Node"}),e.jsx("p",{className:"text-sm font-black text-white mt-0.5",children:t.Location})]}),e.jsxs("div",{className:"bg-black/30 p-3.5 rounded-2xl border border-white/5",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-600 uppercase block mb-1.5 tracking-widest",children:"Local Matrix"}),e.jsx("p",{className:"text-[11px] text-gray-300 leading-relaxed font-bold",children:t["Address Details"]||"No precise location data"})]})]}),e.jsx("div",{className:`absolute ${_} left-1/2 -translate-x-1/2 w-5 h-5 bg-[#1a2235] border-white/10 rotate-45`})]})]})}),s("pageInfo")&&e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[C?e.jsx("img",{src:C,className:"w-8 h-8 rounded-full border border-white/10 shadow-sm object-cover",alt:"logo"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 border border-white/5 flex items-center justify-center text-[7px] text-gray-600 font-bold uppercase",children:"Null"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-[12px] font-black text-gray-300 block truncate leading-none mb-1",children:t.Page}),e.jsx("span",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest",children:t.Team})]})]})}),s("total")&&e.jsxs("td",{className:"px-6 py-5 font-black text-blue-400 text-base tracking-tighter",children:["$",t["Grand Total"].toFixed(2)]}),s("shippingService")&&e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[z&&e.jsx("img",{src:z,className:"w-5 h-5 rounded-lg object-contain bg-gray-950 p-0.5 border border-white/5",alt:"shipping"}),e.jsx("span",{className:"text-[10px] text-orange-400/80 font-black uppercase truncate tracking-tight",children:t["Internal Shipping Method"]||"-"})]})}),s("shippingCost")&&e.jsxs("td",{className:"px-6 py-5 text-[11px] text-gray-500 font-mono font-black tracking-tighter",children:["$",(Number(t["Internal Cost"])||0).toFixed(2)]}),s("status")&&e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${t["Payment Status"]==="Paid"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})}),s("date")&&e.jsx("td",{className:"px-4 py-5 text-[10px] text-gray-500 font-bold italic opacity-60",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("print")&&e.jsx("td",{className:"px-4 py-5 text-center",children:e.jsx("button",{onClick:()=>l(t),className:"text-emerald-400/60 hover:text-white bg-emerald-400/5 hover:bg-emerald-600 p-2.5 rounded-xl transition-all border border-emerald-400/10 active:scale-90",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})}),s("actions")&&e.jsx("td",{className:"px-4 py-5 text-center",children:e.jsx("button",{onClick:()=>n&&n(t),className:"text-blue-400/80 hover:text-white bg-blue-400/5 hover:bg-blue-600 px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all border border-blue-400/10 active:scale-95 shadow-md",children:"Edit"})}),s("check")&&e.jsx("td",{className:"px-2 py-5 text-center",children:e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:()=>I(E,T),className:`h-6 w-6 rounded-lg border-gray-700 bg-gray-950 text-emerald-500 focus:ring-emerald-500/10 transition-all ${B?"opacity-20":"hover:scale-110 active:scale-150 cursor-pointer"}`}),B&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx(K,{size:"sm"})})]})})]},E)})})]})}),e.jsx("div",{className:"md:hidden space-y-4 min-h-[1200px] pb-64",children:g.map((t,k)=>{var V;const P=(V=x.pages)==null?void 0:V.find(R=>R.PageName===t.Page),C=P?D(P.PageLogoURL):"",y=U(t["Customer Phone"]),M=h(y),$=t.IsVerified===!0||String(t.IsVerified).toUpperCase()==="TRUE",z=v.has(t["Order ID"]),E=c.has(t["Order ID"]),T=w(t["Internal Shipping Method"]),B=j===t["Order ID"];return e.jsxs("div",{className:`bg-[#0f172a]/60 backdrop-blur-2xl border ${E?"border-blue-500 shadow-[0_15px_30px_rgba(59,130,246,0.2)]":$?"border-emerald-500/40 shadow-[0_10px_30px_rgba(16,185,129,0.1)]":"border-white/5"} rounded-[2.2rem] p-5 shadow-2xl space-y-5 animate-fade-in relative overflow-hidden group`,children:[i&&e.jsx("div",{className:"absolute top-5 left-5 z-10",children:e.jsx("input",{type:"checkbox",className:"h-6 w-6 rounded-xl border-gray-700 bg-gray-950 text-blue-500 focus:ring-blue-500/10 cursor-pointer",checked:E,onChange:()=>i(t["Order ID"])})}),e.jsxs("div",{className:`flex justify-between items-start ${i?"pl-10":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3.5",children:[e.jsx("div",{className:"w-12 h-12 rounded-[1.2rem] bg-gray-950 border border-white/5 flex items-center justify-center overflow-hidden shadow-inner p-1",children:C?e.jsx("img",{src:C,className:"w-full h-full object-cover rounded-lg",alt:"logo"}):e.jsx("span",{className:"text-[10px] font-black text-gray-600",children:"Null"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[15px] font-black text-white leading-none tracking-tight",children:t["Customer Name"]}),e.jsxs("p",{className:"text-[10px] text-gray-600 uppercase font-black tracking-widest mt-1.5",children:[t.Page," | ",t.Team]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2.5",children:[e.jsx("button",{onClick:()=>O(t["Order ID"]),className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${B?"bg-emerald-600 text-white border-emerald-500":"bg-gray-900/50 text-gray-500 border-white/5"}`,children:B?"COPIED":t["Order ID"].substring(0,8)}),e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-wider border ${t["Payment Status"]==="Paid"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:t["Payment Status"]})]})]}),s("productInfo")&&t.Products&&t.Products.length>0&&e.jsxs("div",{className:"bg-black/30 rounded-[1.8rem] p-4 border border-white/5 space-y-3 shadow-inner",children:[e.jsxs("p",{className:"text-[9px] font-black text-gray-600 uppercase tracking-[0.2em] mb-2 ml-1 flex items-center gap-2",children:[e.jsx("svg",{className:"w-3.5 h-3.5 text-blue-500/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:e.jsx("path",{d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Operational Assets"]}),e.jsx("div",{className:"space-y-2.5 max-h-48 overflow-y-auto custom-scrollbar",children:t.Products.map((R,H)=>{var S;const _=(S=x.products)==null?void 0:S.find(W=>W.ProductName===R.name),A=R.image||(_==null?void 0:_.ImageURL)||"";return e.jsxs("div",{className:"flex items-center gap-4 bg-[#1a2235]/40 p-2.5 rounded-2xl border border-white/5 hover:border-blue-500/20 transition-all",children:[e.jsx("div",{className:"w-10 h-10 flex-shrink-0 bg-gray-950 rounded-xl border border-white/5 overflow-hidden shadow-sm",onClick:()=>d(D(A)),children:e.jsx("img",{src:D(A),className:"w-full h-full object-cover",alt:""})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsx("p",{className:"text-[12px] font-black text-gray-200 truncate leading-tight uppercase tracking-tight",children:R.name}),e.jsxs("span",{className:"text-[10px] font-black text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded-lg border border-blue-500/10 flex-shrink-0 shadow-sm",children:["x",R.quantity]})]}),R.colorInfo&&e.jsxs("p",{className:"text-[9px] text-gray-600 font-bold mt-1.5 uppercase tracking-widest opacity-60",children:["Node: ",R.colorInfo]})]})]},H)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5 px-1",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-gray-600 font-black uppercase text-[8px] tracking-[0.2em]",children:"Contact Node"}),e.jsxs("div",{className:"flex items-center gap-2",children:[M&&e.jsx("img",{src:M,className:"w-3.5 h-3.5 object-contain opacity-70",alt:""}),e.jsx("span",{className:"text-white font-mono font-black text-xs tracking-tight",children:y})]})]}),e.jsxs("div",{className:"space-y-1.5 text-right",children:[e.jsx("p",{className:"text-gray-600 font-black uppercase text-[8px] tracking-[0.2em]",children:"Transaction Total"}),e.jsxs("p",{className:"text-blue-400 font-black text-lg tracking-tighter",children:["$",t["Grand Total"].toFixed(2)]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-gray-600 font-black uppercase text-[8px] tracking-[0.2em]",children:"Geographic Hub"}),e.jsx("p",{className:"text-gray-300 font-black text-[12px] truncate uppercase tracking-tight",children:t.Location})]}),e.jsxs("div",{className:"space-y-1.5 text-right",children:[e.jsx("p",{className:"text-gray-600 font-black uppercase text-[8px] tracking-[0.2em]",children:"Logistic Flow"}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[T&&e.jsx("img",{src:T,className:"w-3.5 h-3.5 object-contain bg-gray-950 p-0.5 rounded-md border border-white/5",alt:""}),e.jsx("span",{className:"text-orange-400/80 font-black text-[11px] uppercase truncate tracking-tight",children:t["Internal Shipping Method"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-5 border-t border-white/5 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[s("actions")&&e.jsx("button",{onClick:()=>n&&n(t),className:"p-3.5 bg-blue-600/10 text-blue-400 rounded-2xl border border-blue-500/20 active:scale-90 transition-all shadow-lg",children:e.jsx("svg",{className:"w-4.5 h-4.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:e.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s("print")&&e.jsx("button",{onClick:()=>l(t),className:"p-3.5 bg-emerald-600/10 text-emerald-400 rounded-2xl border border-emerald-500/20 active:scale-90 transition-all shadow-lg",children:e.jsx("svg",{className:"w-4.5 h-4.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:e.jsx("path",{d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v42 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})]}),e.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[e.jsx("span",{className:"text-[10px] text-gray-700 font-bold italic uppercase tracking-widest",children:new Date(t.Timestamp).toLocaleDateString("km-KH")}),s("check")&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:()=>I(t["Order ID"],$),className:`h-10 w-10 rounded-[1.2rem] border-gray-700 bg-gray-950 text-emerald-500 focus:ring-emerald-500/10 transition-all shadow-inner ${z?"opacity-20":"active:scale-110 cursor-pointer"}`}),z&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(K,{size:"sm"})})]})]}),e.jsx("div",{className:"absolute -right-10 -bottom-10 w-32 h-32 bg-blue-600/5 rounded-full blur-[40px] pointer-events-none"})]})]},t["Order ID"])})})]}),e.jsx("div",{className:"h-64 md:h-[400px] w-full pointer-events-none opacity-0 shrink-0","aria-hidden":"true"})]})};export{xe as O,ie as S,ce as a,de as b,oe as c};
