import{c as n,a as r}from"./index-B2eO3tGe.js";const a=async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("This browser does not support desktop notification"),!1),c=async(t,e)=>{if(!("Notification"in window)||Notification.permission!=="granted"&&!await a())return;const o={body:e,icon:n(r),badge:n(r),vibrate:[200,100,200],tag:"system-alert",renotify:!0,requireInteraction:!1,data:{dateOfArrival:Date.now(),primaryKey:1}};try{if("serviceWorker"in navigator){const i=await navigator.serviceWorker.getRegistration();if(i&&i.showNotification){await i.showNotification(t,o);return}}}catch(i){console.warn("Service Worker notification failed, trying fallback...",i)}try{const i=new Notification(t,o);i.onclick=function(){window.focus(),i.close()}}catch(i){console.error("Standard Notification API failed:",i)}};export{a as r,c as s};
