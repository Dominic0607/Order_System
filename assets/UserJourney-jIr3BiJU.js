import{r as s,A,j as e,S as E,W,u as G}from"./index-D_lpKiAk.js";import{O as Q}from"./OrdersList-CD7QJU73.js";const V={id:Date.now(),name:"",quantity:1,originalPrice:0,finalPrice:0,total:0,discountPercent:0,colorInfo:"",image:"",cost:0,discountType:"percent",discountAmountInput:"",discountPercentInput:"",finalPriceInput:"",applyDiscountToTotal:!1},Y=[{number:1,title:"·û¢·ûè·û∑·ûê·û∑·ûá·ûì"},{number:2,title:"·ûï·ûõ·û∑·ûè·ûï·ûõ"},{number:3,title:"·ûä·ûπ·ûÄ·ûá·ûâ·üí·ûá·ûº·ûì"},{number:4,title:"·ûï·üí·ûë·üÄ·ûÑ·ûï·üí·ûë·û∂·ûè·üã"}],K=({onClose:d,onCodeScanned:l,scanMode:m,setScanMode:c,productsInOrder:p,masterProducts:u})=>{const a=s.useRef(null),[n,o]=s.useState(!0);return s.useEffect(()=>{const N=new window.Html5Qrcode("barcode-reader-container");a.current=N;const O={fps:10,qrbox:{width:250,height:250}};return N.start({facingMode:"environment"},O,t=>{l(t),m==="single"&&d()}).then(()=>o(!1)).catch(()=>o(!1)),()=>{var t;((t=a.current)==null?void 0:t.getState())===2&&a.current.stop()}},[l,m]),e.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col p-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-white mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Scan Barcode"}),e.jsx("button",{onClick:d,className:"p-2 bg-gray-800 rounded-full",children:"√ó"})]}),e.jsx("div",{id:"barcode-reader-container",className:"flex-grow bg-gray-900 rounded-lg overflow-hidden relative",children:n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(E,{size:"lg"})})}),e.jsxs("div",{className:"mt-4 flex gap-4",children:[e.jsx("button",{onClick:()=>c("increment"),className:`flex-1 py-3 rounded-xl font-bold ${m==="increment"?"bg-blue-600":"bg-gray-800"}`,children:"·ûî·ûº·ûÄ·ûÖ·üÜ·ûì·ûΩ·ûì"}),e.jsx("button",{onClick:()=>c("single"),className:`flex-1 py-3 rounded-xl font-bold ${m==="single"?"bg-blue-600":"bg-gray-800"}`,children:"·ûö·û∂·ûî·üã·ûò·ûΩ·ûô"})]})]})},X=({team:d,onSaveSuccess:l,onCancel:m})=>{const{appData:c,currentUser:p,previewImage:u,apiKey:a}=s.useContext(A),[n,o]=s.useState(1),[N,O]=s.useState(!1),[t,y]=s.useState({page:"",telegramValue:"",fulfillmentStore:"",scheduledTime:"",isScheduled:!1,customer:{name:"",phone:"",province:"",district:"",sangkat:"",additionalLocation:"",shippingFee:""},products:[{...V,id:Date.now()}],shipping:{method:"",details:"",cost:""},payment:{status:"Unpaid",info:""},subtotal:0,grandTotal:0,note:""}),[v,$]=s.useState(!1),[T,F]=s.useState(""),[D,M]=s.useState(null),[I,L]=s.useState(null),[S,z]=s.useState(!1),[k,h]=s.useState("increment"),[x,b]=s.useState(!1),[w,P]=s.useState(""),[_,f]=s.useState("charge"),C=s.useMemo(()=>{var r;return((r=c.pages)==null?void 0:r.filter(i=>i.Team===d))||[]},[c.pages,d]),R=s.useMemo(()=>c.stores||[],[c.stores]),q=r=>{const i=r.target.value,g=C.find(j=>j.PageName===i);y(j=>({...j,page:i,telegramValue:g?g.TelegramValue:"",fulfillmentStore:(g==null?void 0:g.DefaultStore)||j.fulfillmentStore}))},J=s.useCallback(r=>{const i=c.products.find(g=>{var j;return((j=g.Barcode)==null?void 0:j.trim())===r.trim()});i&&y(g=>{const j=g.products.findIndex(H=>H.name===i.ProductName),B=[...g.products];return j>-1?k==="increment"&&(B[j].quantity+=1):B.push({...V,id:Date.now(),name:i.ProductName,originalPrice:i.Price,cost:i.Cost,image:i.ImageURL}),{...g,products:B}})},[c.products,k]),U=async()=>{$(!0),F("");const r={currentUser:p,selectedTeam:d,page:t.page,fulfillmentStore:t.fulfillmentStore,scheduledTime:t.isScheduled?t.scheduledTime:null,customer:{...t.customer,shippingFee:Number(t.customer.shippingFee)||0},products:t.products.map(i=>({name:i.name,quantity:i.quantity,originalPrice:i.originalPrice,finalPrice:i.finalPrice,total:i.total,colorInfo:i.colorInfo,cost:i.cost,image:i.image})),shipping:{...t.shipping,cost:Number(t.shipping.cost)||0},payment:t.payment,subtotal:t.subtotal,grandTotal:t.grandTotal,note:t.note};try{const g=await(await fetch(`${W}/api/submit-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();if(g.status!=="success")throw new Error(g.message||"Failed");M({type:"success",message:`·ûÄ·û∂·ûö·ûÄ·ûò·üí·ûò·ûÑ·üã·ûî·û∂·ûì·ûî·ûÑ·üí·ûÄ·ûæ·ûè·ûá·üÑ·ûÇ·ûá·üê·ûô! Order ID: ${g.orderId}`}),setTimeout(l,3e3)}catch(i){M({type:"error",message:`·ûî·ûö·û∂·ûá·üê·ûô: ${i.message}`}),setTimeout(()=>M(null),3e3)}finally{$(!1)}};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto md:mt-10 px-2 sm:px-0",children:[D&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:e.jsxs("div",{className:"page-card text-center flex flex-col items-center animate-fade-in-scale",children:[e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:D.message}),D.type==="success"&&e.jsx(E,{size:"md"})]})}),S&&e.jsx(K,{onClose:()=>z(!1),onCodeScanned:J,scanMode:k,setScanMode:h}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-xl md:text-3xl font-bold text-white",children:["·ûÄ·ûò·üí·ûò·ûÑ·üã·ûê·üí·ûò·û∏ (·ûÄ·üí·ûö·ûª·ûò ",d,")"]}),e.jsx("button",{onClick:()=>O(!0),className:"btn btn-secondary bg-red-900/30 text-red-300",children:"·ûî·üÑ·üá·ûî·ûÑ·üã"})]}),e.jsxs("div",{className:"page-card",children:[e.jsx("div",{className:"flex justify-between items-center mb-8 relative",children:Y.map(r=>e.jsxs("div",{className:`flex flex-col items-center z-10 ${n>=r.number?"text-blue-400":"text-gray-500"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 mb-1 ${n>=r.number?"border-blue-500 bg-blue-900":"border-gray-600"}`,children:r.number}),e.jsx("span",{className:"text-[10px]",children:r.title})]},r.number))}),n===1&&e.jsx("fieldset",{className:"space-y-4 animate-fade-in",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Facebook Page*"}),e.jsxs("select",{value:t.page,onChange:q,className:"form-select",children:[e.jsx("option",{value:"",children:"-- ·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü Page --"}),C.map(r=>e.jsx("option",{value:r.PageName,children:r.PageName},r.PageName))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"·ûÉ·üí·ûõ·û∂·üÜ·ûÑ·ûî·ûâ·üí·ûÖ·üÅ·ûâ·ûë·üÜ·ûì·û∑·ûâ (Branch/Store)*"}),e.jsxs("select",{value:t.fulfillmentStore,onChange:r=>y({...t,fulfillmentStore:r.target.value}),className:"form-select",children:[e.jsx("option",{value:"",children:"-- ·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü·ûÉ·üí·ûõ·û∂·üÜ·ûÑ --"}),R.map(r=>e.jsx("option",{value:r.StoreName,children:r.StoreName},r.StoreName))]})]}),e.jsx("input",{type:"text",placeholder:"·ûà·üí·ûò·üÑ·üá·û¢·ûè·û∑·ûê·û∑·ûá·ûì*",value:t.customer.name,onChange:r=>y({...t,customer:{...t.customer,name:r.target.value}}),className:"form-input"}),e.jsx("input",{type:"tel",placeholder:"·ûõ·üÅ·ûÅ·ûë·ûº·ûö·ûü·üê·ûñ·üí·ûë*",value:t.customer.phone,onChange:r=>y({...t,customer:{...t.customer,phone:r.target.value}}),className:"form-input"})]})}),n===4&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 space-y-4",children:[e.jsx("h3",{className:"font-bold text-blue-300",children:"·ûÄ·û∂·ûö·ûÄ·üÜ·ûé·ûè·üã·ûü·û∂·ûö Telegram"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.isScheduled,onChange:r=>y({...t,isScheduled:r.target.checked}),className:"w-5 h-5 rounded border-gray-600 bg-gray-900 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-200",children:"·ûÄ·üÜ·ûé·ûè·üã·ûñ·üÅ·ûõ·ûï·üí·ûâ·ûæ·ûü·û∂·ûö (Schedule Send)"})]}),t.isScheduled&&e.jsx("input",{type:"datetime-local",value:t.scheduledTime,onChange:r=>y({...t,scheduledTime:r.target.value}),className:"form-input",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("div",{className:"p-4 bg-gray-900/50 rounded-xl border border-gray-700",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Store:"})," ",t.fulfillmentStore||"None"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Subtotal:"})," $",t.subtotal.toFixed(2)]}),e.jsxs("p",{className:"text-xl font-black text-blue-400",children:["Total: $",t.grandTotal.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-4 border-t border-gray-700",children:[e.jsx("button",{onClick:()=>o(n-1),className:`btn btn-secondary ${n===1?"invisible":""}`,children:"·ûè·üí·ûö·û°·ûî·üã"}),n<4?e.jsx("button",{onClick:()=>o(n+1),className:"btn btn-primary",children:"·ûî·ûì·üí·ûè"}):e.jsx("button",{onClick:U,className:"btn btn-primary px-10",disabled:v,children:v?e.jsx(E,{size:"sm"}):"·ûî·ûâ·üí·ûá·ûº·ûì"})]})]})]})},Z=({dateRange:d,onRangeChange:l,customStart:m,onCustomStartChange:c,customEnd:p,onCustomEndChange:u})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx("div",{className:"flex items-center gap-1 bg-gray-800/80 p-1 rounded-xl border border-gray-700 shadow-inner",children:["today","this_week","this_month","custom"].map(a=>e.jsx("button",{onClick:()=>l(a),className:`px-4 py-2 text-[10px] font-black uppercase rounded-lg transition-all ${d===a?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:a==="today"?"·ûê·üí·ûÑ·üÉ·ûì·üÅ·üá":a==="this_week"?"·ûü·ûî·üí·ûè·û∂·û†·üç·ûì·üÅ·üá":a==="this_month"?"·ûÅ·üÇ·ûì·üÅ·üá":"·ûÄ·üÜ·ûé·ûè·üã"},a))})}),d==="custom"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4 bg-gray-900/40 rounded-2xl border border-gray-800 animate-fade-in-down",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"·ûÖ·û∂·ûî·üã·ûñ·û∏"}),e.jsx("input",{type:"date",value:m,onChange:a=>c(a.target.value),className:"form-input !py-1.5 !px-3 bg-gray-800 border-gray-700 text-xs rounded-xl focus:ring-blue-500/20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"·ûä·ûõ·üã"}),e.jsx("input",{type:"date",value:p,onChange:a=>u(a.target.value),className:"form-input !py-1.5 !px-3 bg-gray-800 border-gray-700 text-xs rounded-xl focus:ring-blue-500/20"})]})]})]}),ee=({globalOrders:d,startDate:l,endDate:m,periodLabel:c})=>{const p=s.useMemo(()=>{const u=d.filter(n=>{const o=new Date(n.Timestamp);return!(l&&o<l||m&&o>m)}),a={};return u.forEach(n=>{const o=n.Team||"Unassigned";a[o]=(a[o]||0)+(Number(n["Grand Total"])||0)}),Object.entries(a).map(([n,o])=>({name:n,revenue:o})).sort((n,o)=>o.revenue-n.revenue).slice(0,3)},[d,l,m]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx("div",{className:"h-6 w-1.5 bg-yellow-500 rounded-full shadow-[0_0_10px_rgba(234,179,8,0.5)]"}),e.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-wider",children:["·ûÖ·üÜ·ûé·û∂·ûè·üã·ûê·üí·ûì·û∂·ûÄ·üã·ûÄ·üí·ûö·ûª·ûò·ûõ·ûÄ·üã·ûä·û∂·ûÖ·üã·ûî·üÜ·ûï·ûª·ûè (",c,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.length>0?p.map((u,a)=>e.jsxs("div",{className:"relative group overflow-hidden bg-gray-800/40 backdrop-blur-md border border-white/5 p-5 rounded-[2rem] flex items-center gap-5 transition-all duration-500 hover:bg-gray-800/60 hover:shadow-2xl hover:border-white/10",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-2xl shadow-lg transform transition-transform group-hover:scale-110 group-hover:rotate-6 ${a===0?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/50 shadow-yellow-500/10":a===1?"bg-gray-400/20 text-gray-300 border border-gray-400/50 shadow-gray-400/10":"bg-orange-600/20 text-orange-500 border border-orange-600/50 shadow-orange-600/10"}`,children:a===0?"ü•á":a===1?"ü•à":"ü•â"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-0.5",children:["TOP ",a+1," TEAM"]}),e.jsx("h4",{className:"text-base font-black text-white truncate group-hover:text-blue-400 transition-colors",children:u.name})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-blue-400 font-black text-lg",children:["$",u.revenue.toLocaleString(void 0,{maximumFractionDigits:0})]})}),e.jsx("div",{className:`absolute -right-4 -bottom-4 w-20 h-20 rounded-full opacity-0 group-hover:opacity-5 blur-2xl transition-opacity duration-700 ${a===0?"bg-yellow-500":a===1?"bg-gray-400":"bg-orange-600"}`})]},u.name)):e.jsx("div",{className:"col-span-full py-10 text-center bg-gray-800/20 rounded-[2rem] border-2 border-dashed border-gray-700",children:e.jsxs("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:["·ûò·û∑·ûì·ûë·û∂·ûì·üã·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûõ·ûÄ·üã·ûü·ûò·üí·ûö·û∂·ûî·üã ",c]})})})]})},te=({team:d})=>{const[l,m]=s.useState([]),[c,p]=s.useState([]),[u,a]=s.useState(!0),[n,o]=s.useState(""),[N,O]=s.useState(""),[t,y]=s.useState("today"),[v,$]=s.useState(new Date().toISOString().split("T")[0]),[T,F]=s.useState(new Date().toISOString().split("T")[0]),D=s.useMemo(()=>new Set(["index","orderId","customerName","productInfo","location","pageInfo","total","shippingService","status","date","print"]),[]);s.useEffect(()=>{(async()=>{a(!0),o("");try{const b=await(await fetch(`${W}/api/admin/all-orders`)).json();if(b.status==="success"){const P=(Array.isArray(b.data)?b.data.filter(f=>f!==null):[]).map(f=>{let C=[];try{f["Products (JSON)"]&&(C=JSON.parse(f["Products (JSON)"]))}catch{}return{...f,Products:C}});p(P);const _=P.filter(f=>f.Team===d);m(_.sort((f,C)=>new Date(C.Timestamp).getTime()-new Date(f.Timestamp).getTime()))}}catch(x){o(x.message)}finally{a(!1)}})()},[d]);const M=h=>{const x=new Date,b=new Date(x.getFullYear(),x.getMonth(),x.getDate());let w=null,P=new Date;switch(h){case"today":w=b;break;case"this_week":const _=x.getDay();w=new Date(b),w.setDate(b.getDate()-(_===0?6:_-1));break;case"this_month":w=new Date(x.getFullYear(),x.getMonth(),1);break;case"custom":w=new Date(v+"T00:00:00"),P=new Date(T+"T23:59:59");break}return{start:w,end:P}},{start:I,end:L}=s.useMemo(()=>M(t),[t,v,T]),S=s.useMemo(()=>l.filter(h=>{const x=new Date(h.Timestamp);if(I&&x<I||L&&x>L)return!1;if(N.trim()){const b=N.toLowerCase();if(!(h["Order ID"].toLowerCase().includes(b)||(h["Customer Name"]||"").toLowerCase().includes(b)||(h["Customer Phone"]||"").includes(b)))return!1}return!0}),[l,N,I,L]),z=s.useMemo(()=>S.reduce((h,x)=>h+(Number(x["Grand Total"])||0),0),[S]),k=s.useMemo(()=>{switch(t){case"today":return"·ûê·üí·ûÑ·üÉ·ûì·üÅ·üá";case"this_week":return"·ûü·ûî·üí·ûè·û∂·û†·üç·ûì·üÅ·üá";case"this_month":return"·ûÅ·üÇ·ûì·üÅ·üá";case"custom":return`${v} ·ûä·ûõ·üã ${T}`;default:return""}},[t,v,T]);return u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(E,{size:"lg"})}):e.jsxs("div",{className:"space-y-10",children:[e.jsx(ee,{globalOrders:c,startDate:I,endDate:L,periodLabel:t==="custom"?"·ûè·û∂·ûò·ûÄ·û∂·ûö·ûÄ·üÜ·ûé·ûè·üã":k}),e.jsx("div",{className:"bg-gray-800/20 backdrop-blur-md border border-white/5 p-6 rounded-[2.5rem] shadow-xl space-y-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-start lg:items-center",children:[e.jsxs("div",{className:"relative w-full lg:max-w-md",children:[e.jsx("input",{type:"text",placeholder:"·ûü·üí·ûú·üÇ·ûÑ·ûö·ûÄ ID, ·ûà·üí·ûò·üÑ·üá, ·ûë·ûº·ûö·ûü·üê·ûñ·üí·ûë...",value:N,onChange:h=>O(h.target.value),className:"form-input !pl-12 w-full !py-3 bg-gray-900/60 rounded-2xl border-gray-700"}),e.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 w-full lg:w-auto",children:[e.jsxs("div",{className:"bg-blue-600/10 px-6 py-2.5 rounded-2xl border border-blue-500/20 flex flex-col items-end",children:[e.jsxs("p",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest leading-none mb-1.5",children:["·ûü·ûö·ûª·ûî·ûõ·ûÄ·üã·ûî·û∂·ûì (",k,")"]}),e.jsxs("p",{className:"text-2xl font-black text-white leading-none",children:["$",z.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),e.jsx(Z,{dateRange:t,onRangeChange:y,customStart:v,onCustomStartChange:$,customEnd:T,onCustomEndChange:F})]})]})}),S.length===0?e.jsxs("div",{className:"text-center py-20 bg-gray-800/10 rounded-[3rem] border-2 border-dashed border-gray-700/50",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-800/50 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-700",children:e.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("p",{className:"text-gray-500 font-black uppercase tracking-[0.2em] text-sm",children:["·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûè·üí·ûö·ûº·ûú·ûî·û∂·ûì·ûö·ûÄ·ûÉ·ûæ·ûâ·ûü·ûò·üí·ûö·û∂·ûî·üã ",k," ·ûë·üÅ"]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx("div",{className:"h-5 w-1 bg-blue-500 rounded-full"}),e.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em]",children:["·ûî·ûâ·üí·ûá·û∏·ûî·üí·ûö·ûè·û∑·ûî·ûè·üí·ûè·û∑·ûÄ·û∂·ûö·ûé·üç (",S.length,")"]})]}),e.jsx(Q,{orders:S,showActions:!1,visibleColumns:D})]})]})},re=({onBackToRoleSelect:d})=>{const{currentUser:l,setChatVisibility:m}=s.useContext(A),[c,p]=s.useState("list"),[u,a]=G("team",""),n=s.useMemo(()=>((l==null?void 0:l.Team)||"").split(",").map(o=>o.trim()).filter(Boolean),[l]);return s.useEffect(()=>{m(c!=="create")},[c]),s.useEffect(()=>{n.length===1&&!u&&a(n[0])},[n,u]),n.length===0?e.jsxs("div",{className:"page-card text-center p-12 mt-20 max-w-2xl mx-auto animate-fade-in",children:[e.jsxs("h2",{className:"text-2xl font-black text-white mb-2",children:["·ûü·ûΩ·ûü·üí·ûè·û∏, ",l==null?void 0:l.FullName]}),e.jsx("p",{className:"text-gray-400 font-bold",children:"·ûò·û∑·ûì·ûò·û∂·ûì·ûë·û∑·ûì·üí·ûì·ûì·üê·ûô·ûÄ·üí·ûö·ûª·ûò·ûì·üÖ·ûÄ·üí·ûì·ûª·ûÑ·ûÇ·ûé·ûì·û∏·ûö·ûî·ûü·üã·û¢·üí·ûì·ûÄ·ûë·üÅ"}),e.jsx("button",{onClick:d,className:"btn btn-secondary mt-8 px-10 rounded-2xl",children:"·ûè·üí·ûö·û°·ûî·üã·ûÄ·üí·ûö·üÑ·ûô"})]}):u?c==="create"?e.jsx(X,{team:u,onSaveSuccess:()=>p("list"),onCancel:()=>p("list")}):e.jsxs("div",{className:"w-full max-w-[95rem] mx-auto p-2 sm:p-4 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-white flex items-center gap-4 uppercase tracking-tighter",children:["·ûÄ·û∂·ûö·ûÄ·ûò·üí·ûò·ûÑ·üã·ûö·ûî·ûü·üã·ûÅ·üí·ûâ·ûª·üÜ",e.jsx("span",{className:"text-[10px] bg-blue-600/20 text-blue-400 px-4 py-1.5 rounded-full border border-blue-500/20 uppercase tracking-[0.2em]",children:u})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[n.length>1&&e.jsxs("button",{onClick:()=>a(""),className:"flex items-center gap-2 px-5 py-2.5 bg-gray-800 hover:bg-blue-600 text-gray-300 hover:text-white rounded-2xl text-[11px] font-black uppercase transition-all border border-gray-700 hover:border-blue-500 shadow-xl active:scale-95",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"·ûî·üí·ûè·ûº·ûö·ûÄ·üí·ûö·ûª·ûò"]}),(l==null?void 0:l.IsSystemAdmin)&&e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-800 hover:bg-yellow-600 text-gray-300 hover:text-white rounded-2xl text-[11px] font-black uppercase transition-all border border-gray-700 hover:border-yellow-500 shadow-xl active:scale-95",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"·ûè·üí·ûö·û°·ûî·üã·ûë·üÖ·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü·ûè·ûΩ·ûì·û∂·ûë·û∏"]})]})]}),e.jsxs("button",{onClick:()=>p("create"),className:"relative group flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-br from-blue-600 to-indigo-700 text-white rounded-2xl shadow-[0_10px_40px_-10px_rgba(37,99,235,0.5)] hover:shadow-[0_20px_50px_-10px_rgba(37,99,235,0.6)] transition-all duration-300 active:scale-95 overflow-hidden w-full md:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"}),e.jsx("svg",{className:"w-6 h-6 transform group-hover:rotate-90 transition-transform duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-[0.15em] relative z-10",children:"·ûî·ûÑ·üí·ûÄ·ûæ·ûè·ûÄ·û∂·ûö·ûÄ·ûò·üí·ûò·ûÑ·üã·ûê·üí·ûò·û∏"})]})]}),e.jsx(te,{team:u})]}):e.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 mt-10 md:mt-20 animate-fade-in text-center",children:[e.jsx("h2",{className:"text-3xl font-black text-white mb-2 uppercase tracking-tighter",children:"·ûü·ûº·ûò·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü·ûÄ·üí·ûö·ûª·ûò"}),e.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-[10px] mb-12",children:"·ûá·üí·ûö·ûæ·ûü·ûö·ûæ·ûü·ûÄ·üí·ûö·ûª·ûò·ûä·üÇ·ûõ·û¢·üí·ûì·ûÄ·ûÄ·üÜ·ûñ·ûª·ûÑ·ûî·üÜ·ûñ·üÅ·ûâ·ûÄ·û∂·ûö·ûÑ·û∂·ûö"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(o=>e.jsx("button",{onClick:()=>a(o),className:"bg-gray-800/30 backdrop-blur-xl border border-white/5 rounded-[2.5rem] p-10 hover:border-blue-500 hover:bg-gray-800/50 transition-all group shadow-2xl active:scale-95",children:e.jsx("span",{className:"text-xl font-black text-white group-hover:text-blue-400 transition-colors uppercase tracking-tight",children:o})},o))})]})};export{re as default};
