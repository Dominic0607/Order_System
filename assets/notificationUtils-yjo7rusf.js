import{c as r,a}from"./index-BzKrv3-Y.js";const c=async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("This browser does not support desktop notification"),!1),f=async(o,e)=>{if(!("Notification"in window)||Notification.permission!=="granted")return;const t=r(a)||"https://cdn-icons-png.flaticon.com/512/733/733585.png",n={body:e,icon:t,badge:t,vibrate:[200,100,200,100,200],tag:"osystem-alert-"+Date.now(),renotify:!0,requireInteraction:!0,data:{url:window.location.href}};try{if("serviceWorker"in navigator){const i=await navigator.serviceWorker.getRegistration();if(i&&i.active){await i.showNotification(o,n),console.log("Notification sent via Service Worker");return}}}catch(i){console.warn("SW Notification failed, falling back to classic API",i)}try{const i=new Notification(o,n);i.onclick=function(){window.focus(),i.close()},console.log("Notification sent via Classic API")}catch(i){console.error("All notification methods failed:",i)}};export{c as r,f as s};
